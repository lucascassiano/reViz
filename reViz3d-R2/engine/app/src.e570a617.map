{"version":3,"sources":["0","store/index.js","controls/Slider2D.js","controls/LineEditor.js","controls/CircularSlider.js","controls/Collapsible.js","controls/index.js","components/Menu.js","App.js","viewer/sky.js","viewer/grid.js","viewer/utils/OrbitControls.js","viewer/viewerHelper.js","viewer/utils/TransformControls.js","viewer/viewer.js","index.js"],"names":["store","defaultState","menuIsOpen","project","name","path","environment","selectedObject","scene","rootStore","state","action","type","Object","assign","object","toggleMenu","dispatch","updateScene","updateSelectedObject","Component","Slider2D","props","canvas","setup","Colors","neutral_light","colorLines","getBoundingClientRect","width","height","center","paper","Point","pathY","Path","strokeColor","start","x","moveTo","lineTo","add","pathX","y","axisX","blue_base","axisY","Tool","tool1","pos","myCircle","Circle","fillColor","onMouseEnter","event","blue_dark","onMouseLeave","onMouseDrag","config","colorHigh","point","position","onChange","setState","view","draw","React","createRef","current","toFixed","LineEditor","myPath","strokeWidth","strokeCap","blue_light","points","step","length","circles","i","segment","segments","circle","target","onMouseUp","push","smooth","CircularSlider","radius","bgcircle","blue_lightest","circleSize","startPos","line","Line","Arc","deg","Math","atan2","PI","X","round","sin","Y","cos","halfX","halfY","lastSegment","angle","Collapsible","open","container","content","onClickContainer","label","colorText","children","text_default","text_selected","text_sucess","text_muted","neutral_lightest","neutral_base","neutral_dark","red_lightest","red_light","red_base","red_dark","color0","color1","color2","color3","Menu","menuClass","console","log","mapStateToProps","menu","mapDispatchToProps","App","window","pos3d","Sky","vertexShader","uniforms","topColor","value","THREE","Color","bottomColor","offset","exponent","skyGeo","SphereBufferGeometry","skyMat","ShaderMaterial","fragmentShader","side","BackSide","sky","Mesh","LabeledGrid","upVector","color","opacity","text","textColor","textLocation","Vector3","fromArray","marginSize","stepSubDivisions","_drawGrid","up","lookAt","gridGeometry","gridMaterial","subGridGeometry","subGridMaterial","Geometry","LineBasicMaterial","setHex","linewidth","transparent","vertices","mainGrid","LineSegments","subGrid","offsetWidth","offsetLength","marginGeometry","strongGridMaterial","margin","_drawNumbering","toggle","traverse","child","visible","material","labels","location","max","remove","_labelStore","Object3D","numbering","labelsFront","labelsSideRight","sizeLabel","sizeLabel2","drawTextOnPlane","clone","set","rotation","z","labelsSideLeft","labelsBack","textVisible","size","context","plane","texture","document","createElement","getContext","font","textAlign","fillStyle","fillText","strokeStyle","strokeText","Texture","needsUpdate","generateMipmaps","magFilter","LinearFilter","minFilter","MeshBasicMaterial","map","alphaTest","PlaneBufferGeometry","doubleSided","overdraw","module","exports","require","OrbitControls","domElement","updateExternal","undefined","enabled","minDistance","maxDistance","Infinity","minZoom","maxZoom","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","keyPanSpeed","autoRotate","autoRotateSpeed","enableKeys","keys","LEFT","UP","RIGHT","BOTTOM","mouseButtons","ORBIT","MOUSE","ZOOM","MIDDLE","PAN","target0","position0","zoom0","zoom","isExternallyControlled","setExternalControl","scope","v","quat","quatInverse","lastPosition","lastQuaternion","changeEvent","startEvent","endEvent","STATE","NONE","ROTATE","DOLLY","TOUCH_ROTATE","TOUCH_DOLLY","TOUCH_PAN","spherical","Spherical","sphericalDelta","scale","panOffset","zoomChanged","theta","phi","setEnable","enable","getAngles","getPolarAngle","getAzimuthalAngle","setPolarAngle","forceUpdate","setAzimuthalAngle","setPolarAngleNoForcing","update","setAzimuthalAngleNoForcing","setSyncRotationObject","syncObject","syncRotation","setAngles","updateControls","_phi","_theta","rotateLeft","rotateUp","setPhiDelta","setThetaDelta","panLeft","distance","te","matrix","elements","multiplyScalar","panUp","pan","deltaX","deltaY","screenWidth","screenHeight","PerspectiveCamera","targetDistance","sub","tan","fov","OrthographicCamera","right","left","top","bottom","warn","dollyIn","dollyScale","min","updateProjectionMatrix","dollyOut","reset","copy","dispatchEvent","Quaternion","setFromUnitVectors","inverse","applyQuaternion","distanceToSquared","dot","quaternion","setFromVector3","makeSafe","setFromSpherical","dispose","removeEventListener","onContextMenu","onMouseDown","onMouseWheel","onTouchStart","onTouchEnd","onTouchMove","onMouseMove","onKeyDown","rotateStart","Vector2","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","getZoomScale","pow","objectMatrix","setFromMatrixColumn","element","body","clientHeight","clientWidth","preventDefault","button","handleMouseDownRotate","clientX","clientY","handleMouseDownDolly","handleMouseDownPan","addEventListener","handleMouseMoveRotate","subVectors","handleMouseMoveDolly","handleMouseMovePan","stopPropagation","handleMouseWheel","handleKeyDown","keyCode","touches","handleTouchStartRotate","pageX","pageY","handleTouchStartDolly","dx","dy","sqrt","handleTouchStartPan","handleTouchMoveRotate","handleTouchMoveDolly","handleTouchMovePan","prototype","create","EventDispatcher","constructor","defineProperties","get","noZoom","noRotate","noPan","noKeys","staticMoving","dynamicDampingFactor","TWEEN","texture_top","texture_right","texture_left","texture_front","texture_back","texture_bottom","texture_shadow","viewerHelper","_canvas_id","_controls","callback","mouseMoving","listenExternal","rect","mouse","INTERSECTED","setViewAngle","createTexturedPlane","front","back","shadow","controllers","c0","createCornerCube","c1","c2","c3","c4","c5","c6","c7","e0","createEdgeCube","e1","e2","e3","e4","e5","e6","e7","e8","e9","e10","e11","f0","createFaceCube","f1","f2","f3","f4","f5","texturePath","DoubleSide","TextureLoader","load","geometry","PlaneGeometry","mesh","externalControls","original","coords","UpdateAngles","Tween","to","easing","Easing","Quadratic","Out","onUpdate","hoverColor","getElementById","Scene","camera","offsetHeight","renderer","WebGLRenderer","antialias","alpha","preserveDrawingBuffer","failIfMajorPerformanceCaveat","setSize","setClearColor","setPixelRatio","devicePixelRatio","controls","cubeScale","BoxGeometry","axisHelper","AxesHelper","createCube","raycaster","Raycaster","animate","bind","time","requestAnimationFrame","updateMatrixWorld","setFromCamera","intersects","intersectObjects","currentHex","currVisible","getHex","render","c_cube","sizex","sizey","sizez","_x","_y","_z","edgeCube","cornerCube","TransformControls","call","_gizmo","TransformControlsGizmo","_plane","TransformControlsPlane","defineProperty","mouseDownEvent","mouseUpEvent","mode","objectChangeEvent","ray","_tempVector","_tempVector2","_tempQuaternion","_unit","Z","_identityQuaternion","_alignVector","pointStart","pointEnd","rotationAxis","rotationAngle","cameraPosition","cameraQuaternion","cameraScale","parentPosition","parentQuaternion","parentScale","worldPositionStart","worldQuaternionStart","worldScaleStart","worldPosition","worldQuaternion","worldScale","eye","_positionStart","_quaternionStart","_scaleStart","propName","defaultValue","propValue","getPointer","pointer","changedTouches","onContext","onPointerHover","pointerHover","onPointerDown","pointerDown","onPointerMove","pointerMove","onPointerUp","pointerUp","attach","detach","axis","parent","matrixWorld","decompose","normalize","dragging","intersect","picker","planeIntersect","space","snap","rotationSnap","search","translationSnap","setFromMatrixPosition","d","divide","multiply","ROTATION_SPEED","distanceTo","unit","cross","angleTo","setFromAxisAngle","getMode","setMode","setTranslationSnap","setRotationSnap","setSpace","isTransformControls","gizmoMaterial","depthTest","depthWrite","fog","gizmoLineMaterial","matInvisible","matHelper","matRed","matGreen","matBlue","matWhiteTransperent","matYellowTransparent","matCyanTransparent","matMagentaTransparent","matLineRed","matLineGreen","matLineBlue","matLineCyan","matLineMagenta","matLineYellow","matLineGray","matLineYellowTransparent","arrowGeometry","CylinderBufferGeometry","scaleHandleGeometry","BoxBufferGeometry","lineGeometry","BufferGeometry","addAttribute","Float32BufferAttribute","CircleGeometry","arc","gizmoTranslate","XYZ","OctahedronBufferGeometry","XY","YZ","XZ","pickerTranslate","helperTranslate","START","END","DELTA","gizmoRotate","E","XYZE","helperRotate","AXIS","pickerRotate","TorusBufferGeometry","gizmoScale","XYZX","XYZY","XYZZ","pickerScale","helperScale","setupGizmo","gizmoMap","gizmo","tag","updateMatrix","tempGeometry","applyMatrix","tempVector","tempEuler","Euler","alignVector","zeroVector","lookAtMatrix","Matrix4","tempQuaternion","tempQuaternion2","identityQuaternion","unitX","unitY","unitZ","helper","handles","concat","handle","eyeDistance","abs","setFromRotationMatrix","multiplyQuaternions","indexOf","showX","showY","showZ","_opacity","_color","lerp","split","some","a","setFromEuler","isTransformControlsGizmo","wireframe","dirVector","tempMatrix","isTransformControlsPlane","OBJLoader","Viewer","getState","INTERSECTED_selected","INTERSECTED_box","BoxHelper","interactiveObjects","cube","innerWidth","innerHeight","sortObjects","Group","tControl","getObject","ViewerHelper","gridHelper","Grid","onload","viewer","hot","accept","focus","remote","MenuItem"],"mappings":"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","file":"src.e570a617.map","sourceRoot":"../../src","sourcesContent":[null,"/* ------------\n\n--------------- */\n\nlet defaultState = {\n    menuIsOpen: true,\n    project: {\n        name: null,\n        path: null\n    },\n    environment: {\n        selectedObject: null,\n        scene: null\n    }\n}\n\nlet rootStore = (state = defaultState, action) => {\n    switch (action.type) {\n        case 'TOGGLE_MENU':\n            let menuIsOpen = !state.menuIsOpen;\n            return Object.assign({}, state, { menuIsOpen });\n\n        case 'UPDATE_SCENE':\n            var environment = Object.assign({}, state.environment, { scene: action.scene });\n            return Object.assign({}, state, { environment });\n\n        case 'UPDATE_SELECTED_OBJECT':\n            var environment = Object.assign({}, state.environment, { selectedObject: action.object });\n            return Object.assign({}, state, { environment });\n        default:\n            return state\n    }\n}\n\nimport { createStore } from \"redux\";\nlet store = createStore(rootStore);\n\n\n/*actions*/\nexport let toggleMenu = () => {\n    store.dispatch({ type: 'TOGGLE_MENU' });\n}\n\nexport let updateScene = (scene) => {\n    store.dispatch({ type: 'UPDATE_SCENE', scene });\n}\n\nexport let updateSelectedObject = (object) => {\n    store.dispatch({ type: 'UPDATE_SELECTED_OBJECT', object });\n}\n//export the store at the end\nexport default store;","import React, { Component } from \"react\";\nimport paper, { Color } from \"paper\";\nimport { config, Colors } from './index';\n\nexport default class Slider2D extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            x: 0,\n            y: 0\n        }\n\n        this.canvas = React.createRef();\n        // this.draw();\n    }\n\n    componentDidMount() {\n        // window.addEventListener('mousemove', this.onMouseMove);\n        if (this.canvas.current)\n            this.draw(this.canvas.current);\n    }\n\n    // Create a Paper.js Path to draw a line into it:\n    draw = (canvas) => {\n        paper.setup(canvas);\n        let colorLines = Colors.neutral_light;\n        let { width, height } = canvas.getBoundingClientRect();\n        let center = new paper.Point(width / 2, height / 2);\n\n        var pathY = new paper.Path();\n        pathY.strokeColor = Colors.neutral_light;\n        var start = new paper.Point(center.x, 0);\n        pathY.moveTo(start);\n        pathY.lineTo(start.add([0, height]));\n\n        var pathX = new paper.Path();\n        pathX.strokeColor = Colors.neutral_light;\n        var start = new paper.Point(0, center.y);\n        pathX.moveTo(start);\n        pathX.lineTo(start.add([width, 0]));\n\n        var axisX = new paper.Path();\n        axisX.strokeColor = Colors.blue_base;\n        var start = new paper.Point(0, center.y);\n        axisX.moveTo(start);\n        axisX.lineTo(start.add([width, 0]));\n\n        var axisY = new paper.Path();\n        axisY.strokeColor = Colors.blue_base;\n        var start = new paper.Point(center.x, 0);\n        axisY.moveTo(start);\n        axisY.lineTo(start.add([0, height]));\n\n        //myCircle.selected = true;\n        var tool1 = new paper.Tool();\n        let pos = center;\n        let myCircle = new paper.Path.Circle(pos, 5);\n        //myCircle.strokeColor = config.color3;\n        myCircle.fillColor = Colors.blue_base;\n\n        myCircle.onMouseEnter = (event) => {\n            myCircle.fillColor = Colors.blue_dark;\n            myCircle.strokeColor = Colors.blue_base;\n        }\n\n        myCircle.onMouseLeave = (event) => {\n            myCircle.fillColor = Colors.blue_base;\n            myCircle.strokeColor = Colors.blue_base;\n        }\n\n        myCircle.onMouseDrag = (event) => {\n            myCircle.fillColor = config.colorHigh;\n            //myCircle.strokeColor = config.color0;\n            pos = event.point;\n            if (pos.x <= 0)\n                pos.x = 0;\n            else if (pos.x >= width)\n                pos.x = width;\n            if (pos.y <= 0)\n                pos.y = 0;\n            else if (pos.y >= height)\n                pos.y = height;\n\n            myCircle.position = pos;\n            axisX.position.y = pos.y;\n            axisY.position.x = pos.x;\n\n            let x = pos.x / width - 0.5;\n            let y = 0.5 - (pos.y / height);\n            if (this.props.onChange)\n                this.props.onChange({ x, y, point: pos });\n\n            this.setState({ x, y });\n        }\n\n        paper.view.draw();\n    }\n    render() {\n        let { x, y } = this.state;\n        return <div className=\"slider-2d-container\">\n            <canvas className=\"slider-2d-canvas\" ref={this.canvas}></canvas>\n            <div className=\"slider-2d-values\">\n                <div>\n                    <div className=\"label\">x</div>\n                    <div>\n                        {x.toFixed(2)}\n                    </div>\n                </div>\n                <div>\n                    <div className=\"label\">y</div>\n                    <div>\n                        {y.toFixed(2)}\n                    </div>\n                </div>\n            </div>\n\n        </div>\n    }\n}","import React, { Component } from \"react\";\nimport paper from \"paper\";\nimport { config, Colors } from \"./index\";\n\nexport default class LineEditor extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            x: 0,\n            y: 0\n        }\n\n        this.canvas = React.createRef();\n        // this.draw();\n    }\n\n    componentDidMount() {\n        // window.addEventListener('mousemove', this.onMouseMove);\n        if (this.canvas.current)\n            this.draw(this.canvas.current);\n    }\n\n    // Create a Paper.js Path to draw a line into it:\n    draw = (canvas) => {\n        paper.setup(canvas);\n        let colorLines = 'rgba(0,0,0,0.1)';\n        let { width, height } = canvas.getBoundingClientRect();\n        let center = new paper.Point(width / 2, height / 2);\n\n        var myPath = new paper.Path({ strokeWidth: 2, strokeCap: 'round' });\n        myPath.strokeColor = Colors.blue_base;\n        myPath.fillColor = Colors.blue_light;\n\n        let points = this.props.points || [];\n\n        let step = (width - 10) / (points.length - 1);\n        let circles = [];\n\n        for (var i = 0; i < points.length; i++) {\n            let point = new paper.Point(5 + i * step, height - points[i]);\n            myPath.add(point);\n\n            let segment = myPath.segments[i];\n\n            let circle = new paper.Path.Circle(point, 3)\n\n            circle.fillColor = Colors.blue_base;\n\n            circle.onMouseEnter = (event) => {\n                event.target.fillColor = config.colorHigh;\n            }\n\n            circle.onMouseLeave = (event) => {\n                event.target.fillColor = Colors.blue_base;\n            }\n\n            circle.onMouseUp = (event) => {\n                event.target.fillColor = Colors.blue_base;\n            }\n\n            circle.onMouseDrag = (event) => {\n                event.target.fillColor = config.colorHigh;\n                pos = event.point;\n\n                if (pos.y <= 0)\n                    pos.y = 0;\n                else if (pos.y >= height)\n                    pos.y = height;\n\n                event.target.position.y = pos.y;\n\n                segment.point.y = pos.y;\n                let x = pos.x / width - 0.5;\n                let y = 0.5 - (pos.y / height);\n\n                if (this.props.onChange)\n                    this.props.onChange({ x, y, point: pos, segments: myPath.segments });\n\n                this.setState({ x, y });\n            }\n\n            circles.push(circle);\n        }\n\n        myPath.smooth();\n        var tool1 = new paper.Tool();\n        let pos = center;\n\n\n        paper.view.draw();\n    }\n    render() {\n        let { x, y } = this.state;\n        return <div className=\"line-editor\">\n            <canvas className=\"line-editor-canvas\" ref={this.canvas} width={100}></canvas>\n        </div>\n    }\n}","import React, { Component } from \"react\";\nimport paper from \"paper\";\nimport { config, Colors} from \"./index\";\nimport { start } from \"repl\";\n\nexport default class CircularSlider extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            angle: 0\n        }\n\n        this.canvas = React.createRef();\n        // this.draw();\n    }\n\n    componentDidMount() {\n        // window.addEventListener('mousemove', this.onMouseMove);\n        if (this.canvas.current)\n            this.draw(this.canvas.current);\n    }\n\n    /*\n var mPos = {x: e.clientX-elPos.x, y: e.clientY-elPos.y};\n               var atan = Math.atan2(mPos.x-radius, mPos.y-radius);\n               deg = -atan/(Math.PI/180) + 180; // final (0-360 positive) degrees from mouse position \n                \n               X = Math.round(radius* Math.sin(deg*Math.PI/180));    \n               Y = Math.round(radius*  -Math.cos(deg*Math.PI/180));\n    */\n    // Create a Paper.js Path to draw a line into it:\n    draw = (canvas) => {\n        paper.setup(canvas);\n\n        let { width, height } = canvas.getBoundingClientRect();\n\n        let center = new paper.Point(width / 2, height / 2);\n        let radius = this.props.radius || height / 2 - 20;\n\n        let bgcircle = new paper.Path.Circle(center, radius)\n        bgcircle.strokeWidth = 2;\n        bgcircle.strokeColor = Colors.blue_light;\n        bgcircle.fillColor = Colors.blue_lightest;\n\n        let circleSize = 5;\n        let startPos = new paper.Point(center.x, 15 + circleSize);\n\n        var line = new paper.Path.Line(center, startPos);\n        line.strokeColor = Colors.blue_base;\n        line.strokeCap = 'round';\n        line.strokeWidth = 2;\n\n        let circle = new paper.Path.Circle(startPos, circleSize);\n        circle.fillColor = Colors.blue_base;\n\n        var through = new paper.Point(60, 20);\n        var to = new paper.Point(80, 80);\n        var arc = new paper.Path.Arc(startPos, startPos, startPos);\n\n\n        //arc.add(startPos);\n        arc.strokeColor = 'black';\n\n        circle.onMouseEnter = (event) => {\n            event.target.fillColor = Colors.blue_dark;\n        }\n\n        circle.onMouseLeave = (event) => {\n            event.target.fillColor =  Colors.blue_base;\n        }\n        circle.onMouseUp = (event) => {\n            event.target.fillColor = Colors.blue_base;\n        }\n\n        circle.onMouseDrag = (event) => {\n            event.target.fillColor = Colors.blue_dark;\n\n            let point = event.point;\n            var atan = Math.atan2(point.x - width / 2, point.y - height / 2);\n\n            var deg = -atan / (Math.PI / 180) + 180; // final (0-360 positive) degrees from mouse position \n            var X = Math.round(radius * Math.sin(deg * Math.PI / 180));\n            var Y = Math.round(radius * -Math.cos(deg * Math.PI / 180));\n            circle.position.x = X + center.x;\n            circle.position.y = Y + center.y;\n\n            var halfX = Math.round(radius * Math.sin((deg * 0.5) * Math.PI / 180));\n            var halfY = Math.round(radius * -Math.cos((deg * 0.5) * Math.PI / 180));\n            //arc\n            var throughPoint = new paper.Point(halfX + center.x, halfY + center.y);\n            var toPoint = new paper.Point(X + center.x, Y + center.y);\n\n            line.lastSegment.point = new paper.Point(circle.position.x, circle.position.y);\n            this.setState({ angle: deg });\n\n            if (this.props.onChange)\n                this.props.onChange(deg);\n        }\n\n        paper.view.draw();\n    }\n    render() {\n        let { x, y } = this.state;\n        return <div className=\"circular-slider\">\n            <canvas className=\"circular-slider-canvas\" ref={this.canvas}></canvas>\n            <div className=\"angle\">{this.state.angle.toFixed(2)}</div>\n        </div>\n    }\n}","import React, { Component } from \"react\";\nimport { config } from \"./index\";\n\nexport default class Collapsible extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            open: false\n        }\n\n        this.container = React.createRef();\n        this.content = React.createRef();\n    }\n\n    onClickContainer = () => {\n        this.setState({ open: !this.state.open });\n    }\n\n    componentDidMount() {\n\n    }\n\n    render() {\n        let { open } = this.state;\n\n\n\n        return <div className=\"collapsible\" ref={this.container} >\n            <div className=\"top\">\n                <div className=\"label\" onClick={this.onClickContainer}>{this.props.label || \"collapsible\"}\n                </div>\n                <div className={open ? \"arrow arrow-up\" : \"arrow\"} >\n                    <svg width='12' viewBox='0 0 79 40' xmlns='http://www.w3.org/2000/svg'>\n                        <g fill='none' fillRule='evenodd'>\n                            <polygon fill={config.colorText} points='0 0 79 0 39.5 39.5' />\n                        </g>\n                    </svg>\n                </div>\n            </div>\n            <div className={open ? \"content content-open\" : \"content content-closed\"} ref={this.container}>\n                {this.props.children}\n            </div>\n        </div >\n    }\n}","import Slider2D from \"./Slider2D\";\nimport LineEditor from \"./LineEditor\";\nimport CircularSlider from \"./CircularSlider\";\nimport Collapsible from \"./Collapsible\";\n\nimport \"./controls.less\";\n\nexport let Colors = {\n    text_default: '#425A70',\n    text_selected: '#1070CA',\n    text_sucess: '#00783E',\n    text_muted: '#66788A',\n\n    neutral_lightest: '#F9F9FB',\n    neutral_light: '#E4E7EB',\n    neutral_base: '#425A70',\n    neutral_dark: '#234361',\n\n    blue_lightest: '#F7F9FD',\n    blue_light: '#DDEBF7',\n    blue_base: '#1070CA',\n    blue_dark: '#084B8A',\n\n    red_lightest: '#FEF6F6',\n    red_light: '#FAE2E2',\n    red_base: '#EC4C47',\n    red_dark: '#BF0E08'\n};\n\nexport let config = {\n    color0: '#FFFFFF',\n    color1: '#eeeeee',\n    color2: '#888888',\n    color3: '#222222',\n    colorText: '#333',\n    colorHigh: '#333'\n};\nexport {\n    Slider2D,\n    LineEditor,\n    CircularSlider,\n    Collapsible\n};\n","import React, { Component } from 'react';\nimport { toggleMenu } from \"../store\";\nimport { connect } from \"react-redux\";\nimport { } from \"./menu.less\";\n\nclass Menu extends Component {\n    render() {\n        let menuClass = this.props.open ? \"menu\" : \"menu-hidden\";\n        let environment = this.props.environment;\n\n        console.log(\"env\", environment);\n\n        let selectedObject = \"select a object...\";\n        if (environment.selectedObject)\n            selectedObject = this.props.environment.selectedObject;\n\n        return <div className=\"side-menu\">\n            <div className=\"btn\">\n                A\n            </div>\n        </div>\n    }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n        menu: state.menuIsOpen,\n        environment: state.environment\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        toggleMenu: () => {\n            dispatch({ type: 'TOGGLE_MENU', open: null });\n        }\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Menu)\n","import React, { Component } from \"react\";\nimport ReactDOM from 'react-dom';\nimport { AppContainer } from 'react-hot-loader';\nimport logo from \"./icons/logo.svg\";\nimport github from \"./icons/github.svg\";\nimport { shell } from 'electron';\n\nimport \"./app.css\";\nimport { connect } from 'react-redux';\nimport { toggleMenu } from \"./store\";\n\n//import Menu from \"./components/Menu\";\n\nimport { Slider2D, LineEditor, CircularSlider, Collapsible } from \"./controls\";\n//import \"./controls/controls.less\";\nimport Menu from \"./components/Menu\";\n\nclass App extends Component {\n    onChange = (event) => {\n        //console.log(\"chage\", event);\n        window.pos3d = { x: event.x, y: event.y };\n    }\n\n\n    render() {\n        let menu = <div className=\"controls-menu\">\n            <div className=\"panel\">\n                <Slider2D onChange={this.onChange} />\n                <LineEditor points={[0, 1, 2, 2, 5, 2]} />\n                <Collapsible label=\"Circular Slider\">\n                    <CircularSlider />\n                </Collapsible>\n            </div >\n        </div>\n\n        console.log('props', this.props);\n        return (\n            <div>\n                <Menu />\n            </div>\n\n        );\n    }\n\n}\n\nconst mapStateToProps = state => {\n    return { menu: state.menuIsOpen }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        toggleMenu: () => {\n            dispatch({ type: 'TOGGLE_MENU', open: null });\n        }\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(App)\n\n","import * as THREE from 'three';\n\nexport default class Sky {\n\n    getObject() {\n    \n        // SKYDOME\n        var vertexShader = `\n        varying vec3 vWorldPosition;\n\t\t\tvoid main() {\n\t\t\t\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n\t\t\t\tvWorldPosition = worldPosition.xyz;\n\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n            }\n            `;\n        var fragmentShader = `\n        uniform vec3 topColor;\n\t\t\tuniform vec3 bottomColor;\n\t\t\tuniform float offset;\n\t\t\tuniform float exponent;\n\t\t\tvarying vec3 vWorldPosition;\n\t\t\tvoid main() {\n\t\t\t\tfloat h = normalize( vWorldPosition + offset ).y;\n\t\t\t\tgl_FragColor = vec4( mix( bottomColor, topColor, max( pow( max( h, 0.0 ), exponent ), 0.0 ) ), 1.0 );\n            }\n            `;\n        var uniforms = {\n            topColor: { type: \"c\", value: new THREE.Color(0x606060) },\n            bottomColor: { type: \"c\", value: new THREE.Color(0x212121) },\n            offset: { type: \"f\", value: 400 },\n            exponent: { type: \"f\", value: 1.0 }\n        };\n\n        var skyGeo = new THREE.SphereBufferGeometry(1000, 32, 15);\n\n        var skyMat = new THREE.ShaderMaterial({\n            uniforms: uniforms,\n            vertexShader: vertexShader,\n            fragmentShader: fragmentShader,\n            side: THREE.BackSide\n        });\n\n        var sky = new THREE.Mesh(skyGeo, skyMat);\n        return sky;\n    }\n}","// Source: https://github.com/usco/glView-helpers/blob/master/src/grids/LabeledGrid.js\nimport * as THREE from 'three';\n\n/*TODO:\n - refactor\n - use label helper\n*/\n\nexport default class LabeledGrid extends THREE.Object3D {\n    constructor(width = 200, length = 200, step = 10, upVector = [0, 1, 0], color = 0x00baff, opacity = 0.2, text = true, textColor = \"#ffffff\", textLocation = \"left\") {\n        super();\n\n        this.width = width;\n        this.length = length;\n        this.step = step;\n        this.color = color;\n        this.opacity = opacity;\n        this.text = text;\n        this.textColor = textColor;\n        this.textLocation = textLocation;\n        this.upVector = new THREE.Vector3().fromArray(upVector);\n\n        this.name = \"grid\";\n\n        //TODO: clean this up\n        this.marginSize = 10;\n        this.stepSubDivisions = 10;\n\n\n        this._drawGrid();\n\n        //default grid orientation is z up, rotate if not the case\n        //var upVector = this.upVector;\n        this.up = this.upVector;\n        this.lookAt(this.upVector);\n    }\n\n    _drawGrid() {\n        var gridGeometry, gridMaterial, mainGridZ, planeFragmentShader, planeGeometry, planeMaterial, subGridGeometry, subGridMaterial, subGridZ;\n\n        //offset to avoid z fighting\n        mainGridZ = -0.05;\n        gridGeometry = new THREE.Geometry();\n        gridMaterial = new THREE.LineBasicMaterial({\n            color: new THREE.Color().setHex(this.color),\n            opacity: this.opacity,\n            linewidth: 2,\n            transparent: true\n        });\n\n        subGridZ = -0.05;\n        subGridGeometry = new THREE.Geometry();\n        subGridMaterial = new THREE.LineBasicMaterial({\n            color: new THREE.Color().setHex(this.color),\n            opacity: this.opacity / 2,\n            transparent: true\n        });\n\n        var step = this.step;\n        var stepSubDivisions = this.stepSubDivisions;\n        var width = this.width;\n        var length = this.length;\n\n        var centerBased = true\n\n        if (centerBased) {\n            for (var i = 0; i <= width / 2; i += step / stepSubDivisions) {\n                subGridGeometry.vertices.push(new THREE.Vector3(-length / 2, i, subGridZ));\n                subGridGeometry.vertices.push(new THREE.Vector3(length / 2, i, subGridZ));\n\n                subGridGeometry.vertices.push(new THREE.Vector3(-length / 2, -i, subGridZ));\n                subGridGeometry.vertices.push(new THREE.Vector3(length / 2, -i, subGridZ));\n\n                if (i % step == 0) {\n                    gridGeometry.vertices.push(new THREE.Vector3(-length / 2, i, mainGridZ));\n                    gridGeometry.vertices.push(new THREE.Vector3(length / 2, i, mainGridZ));\n\n                    gridGeometry.vertices.push(new THREE.Vector3(-length / 2, -i, mainGridZ));\n                    gridGeometry.vertices.push(new THREE.Vector3(length / 2, -i, mainGridZ));\n                }\n            }\n            for (var i = 0; i <= length / 2; i += step / stepSubDivisions) {\n                subGridGeometry.vertices.push(new THREE.Vector3(i, -width / 2, subGridZ));\n                subGridGeometry.vertices.push(new THREE.Vector3(i, width / 2, subGridZ));\n\n                subGridGeometry.vertices.push(new THREE.Vector3(-i, -width / 2, subGridZ));\n                subGridGeometry.vertices.push(new THREE.Vector3(-i, width / 2, subGridZ));\n\n                if (i % step == 0) {\n                    gridGeometry.vertices.push(new THREE.Vector3(i, -width / 2, mainGridZ));\n                    gridGeometry.vertices.push(new THREE.Vector3(i, width / 2, mainGridZ));\n\n                    gridGeometry.vertices.push(new THREE.Vector3(-i, -width / 2, mainGridZ));\n                    gridGeometry.vertices.push(new THREE.Vector3(-i, width / 2, mainGridZ));\n                }\n            }\n        }\n        else {\n            for (var i = -width / 2; i <= width / 2; i += step / stepSubDivisions) {\n                subGridGeometry.vertices.push(new THREE.Vector3(-length / 2, i, subGridZ));\n                subGridGeometry.vertices.push(new THREE.Vector3(length / 2, i, subGridZ));\n\n                if (i % step == 0) {\n                    gridGeometry.vertices.push(new THREE.Vector3(-length / 2, i, mainGridZ));\n                    gridGeometry.vertices.push(new THREE.Vector3(length / 2, i, mainGridZ));\n                }\n            }\n            for (var i = -length / 2; i <= length / 2; i += step / stepSubDivisions) {\n                subGridGeometry.vertices.push(new THREE.Vector3(i, -width / 2, subGridZ));\n                subGridGeometry.vertices.push(new THREE.Vector3(i, width / 2, subGridZ));\n\n                if (i % step == 0) {\n                    gridGeometry.vertices.push(new THREE.Vector3(i, -width / 2, mainGridZ));\n                    gridGeometry.vertices.push(new THREE.Vector3(i, width / 2, mainGridZ));\n                }\n            }\n        }\n\n        this.mainGrid = new THREE.LineSegments(gridGeometry, gridMaterial);\n        //create sub grid geometry object\n        this.subGrid = new THREE.LineSegments(subGridGeometry, subGridMaterial);\n\n        //create margin\n        var offsetWidth = width + this.marginSize;\n        var offsetLength = length + this.marginSize;\n\n        var marginGeometry = new THREE.Geometry();\n        marginGeometry.vertices.push(new THREE.Vector3(-length / 2, -width / 2, subGridZ));\n        marginGeometry.vertices.push(new THREE.Vector3(length / 2, -width / 2, subGridZ));\n\n        marginGeometry.vertices.push(new THREE.Vector3(length / 2, -width / 2, subGridZ));\n        marginGeometry.vertices.push(new THREE.Vector3(length / 2, width / 2, subGridZ));\n\n        marginGeometry.vertices.push(new THREE.Vector3(length / 2, width / 2, subGridZ));\n        marginGeometry.vertices.push(new THREE.Vector3(-length / 2, width / 2, subGridZ));\n\n        marginGeometry.vertices.push(new THREE.Vector3(-length / 2, width / 2, subGridZ));\n        marginGeometry.vertices.push(new THREE.Vector3(-length / 2, -width / 2, subGridZ));\n\n\n        marginGeometry.vertices.push(new THREE.Vector3(-offsetLength / 2, -offsetWidth / 2, subGridZ));\n        marginGeometry.vertices.push(new THREE.Vector3(offsetLength / 2, -offsetWidth / 2, subGridZ));\n\n        marginGeometry.vertices.push(new THREE.Vector3(offsetLength / 2, -offsetWidth / 2, subGridZ));\n        marginGeometry.vertices.push(new THREE.Vector3(offsetLength / 2, offsetWidth / 2, subGridZ));\n\n        marginGeometry.vertices.push(new THREE.Vector3(offsetLength / 2, offsetWidth / 2, subGridZ));\n        marginGeometry.vertices.push(new THREE.Vector3(-offsetLength / 2, offsetWidth / 2, subGridZ));\n\n        marginGeometry.vertices.push(new THREE.Vector3(-offsetLength / 2, offsetWidth / 2, subGridZ));\n        marginGeometry.vertices.push(new THREE.Vector3(-offsetLength / 2, -offsetWidth / 2, subGridZ));\n\n\n        var strongGridMaterial = new THREE.LineBasicMaterial({\n            color: new THREE.Color().setHex(this.color),\n            opacity: this.opacity * 2,\n            linewidth: 2,\n            transparent: true\n        });\n        this.margin = new THREE.LineSegments(marginGeometry, strongGridMaterial);\n\n        //add all grids, subgrids, margins etc\n        this.add(this.mainGrid);\n        this.add(this.subGrid);\n        this.add(this.margin);\n\n        this._drawNumbering();\n    }\n\n    toggle(toggle) {\n        //apply visibility settings to all children \n        this.traverse(function (child) {\n            child.visible = toggle;\n        });\n    }\n\n    setOpacity(opacity) {\n        this.opacity = opacity;\n        this.mainGrid.material.opacity = opacity;\n        this.subGrid.material.opacity = opacity / 2;\n        this.margin.material.opacity = opacity * 2;\n    }\n\n    setColor(color) {\n        this.color = color;\n        this.mainGrid.material.color = new THREE.Color().setHex(this.color);\n        this.subGrid.material.color = new THREE.Color().setHex(this.color);\n        this.margin.material.color = new THREE.Color().setHex(this.color);\n    }\n\n    toggleText(toggle) {\n        this.text = toggle;\n        var labels = this.labels.children;\n        for (var i = 0; i < this.labels.children.length; i++) {\n            var label = labels[i];\n            label.visible = toggle;\n        }\n    }\n\n    setTextColor(color) {\n        this.textColor = color;\n        this._drawNumbering();\n    }\n\n    setTextLocation(location) {\n        this.textLocation = location;\n        return this._drawNumbering();\n    }\n\n    setUp(upVector) {\n        this.upVector = upVector;\n        this.up = upVector;\n        this.lookAt(upVector);\n    }\n\n    resize(width, length) {\n        if (width && length) {\n            var width = Math.max(width, 10);\n            this.width = width;\n\n            var length = Math.max(length, 10);\n            this.length = length;\n\n            this.step = Math.max(this.step, 5);\n\n            this.remove(this.mainGrid);\n            this.remove(this.subGrid);\n            this.remove(this.margin);\n            //this.remove(this.plane);\n            return this._drawGrid();\n        }\n    }\n\n    _drawNumbering() {\n        var label, sizeLabel, sizeLabel2, xLabelsLeft, xLabelsRight, yLabelsBack, yLabelsFront;\n        var step = this.step;\n\n        this._labelStore = {};\n\n        if (this.labels != null) {\n            this.mainGrid.remove(this.labels);\n        }\n        this.labels = new THREE.Object3D();\n\n\n        var width = this.width;\n        var length = this.length;\n        var numbering = this.numbering = \"centerBased\";\n\n        var labelsFront = new THREE.Object3D();\n        var labelsSideRight = new THREE.Object3D();\n\n        if (numbering == \"centerBased\") {\n            for (var i = 0; i <= width / 2; i += step) {\n                var sizeLabel = this.drawTextOnPlane(\"\" + i, 32);\n                var sizeLabel2 = sizeLabel.clone();\n\n                sizeLabel.position.set(length / 2, -i, 0.1);\n                sizeLabel.rotation.z = -Math.PI / 2;\n                labelsFront.add(sizeLabel);\n\n                sizeLabel2.position.set(length / 2, i, 0.1);\n                sizeLabel2.rotation.z = -Math.PI / 2;\n                labelsFront.add(sizeLabel2);\n            }\n\n            for (var i = 0; i <= length / 2; i += step) {\n                var sizeLabel = this.drawTextOnPlane(\"\" + i, 32);\n                var sizeLabel2 = sizeLabel.clone();\n\n                sizeLabel.position.set(-i, width / 2, 0.1);\n                //sizeLabel.rotation.z = -Math.PI / 2;\n                labelsSideRight.add(sizeLabel);\n\n                sizeLabel2.position.set(i, width / 2, 0.1);\n                //sizeLabel2.rotation.z = -Math.PI / 2;\n                labelsSideRight.add(sizeLabel2);\n            }\n\n            var labelsSideLeft = labelsSideRight.clone();\n            labelsSideLeft.rotation.z = -Math.PI;\n            //labelsSideLeft = labelsSideRight.clone().translateY(- width );\n\n            var labelsBack = labelsFront.clone();\n            labelsBack.rotation.z = -Math.PI;\n        }\n\n\n\n        /*if (this.textLocation === \"center\") {\n          yLabelsRight.translateY(- length/ 2);\n          xLabelsFront.translateX(- width / 2);\n        } else {\n          yLabelsLeft = yLabelsRight.clone().translateY( -width );\n          xLabelsBack = xLabelsFront.clone().translateX( -length );\n          \n          this.labels.add( yLabelsLeft );\n          this.labels.add( xLabelsBack) ;\n        }*/\n        //this.labels.add( yLabelsRight );\n        this.labels.add(labelsFront);\n        this.labels.add(labelsBack);\n\n        this.labels.add(labelsSideRight);\n        this.labels.add(labelsSideLeft);\n\n\n        //apply visibility settings to all labels\n        var textVisible = this.text;\n        this.labels.traverse(function (child) {\n            child.visible = textVisible;\n        });\n\n\n        this.mainGrid.add(this.labels);\n    }\n\n    drawTextOnPlane(text, size) {\n        var canvas, context, material, plane, texture;\n\n        if (size == null) {\n            size = 256;\n        }\n\n        canvas = document.createElement('canvas');\n        var size = 128;\n        canvas.width = size;\n        canvas.height = size;\n        context = canvas.getContext('2d');\n        context.font = \"18px sans-serif\";\n        context.textAlign = 'center';\n        context.fillStyle = this.textColor;\n        context.fillText(text, canvas.width / 2, canvas.height / 2);\n        context.strokeStyle = this.textColor;\n        context.strokeText(text, canvas.width / 2, canvas.height / 2);\n\n        texture = new THREE.Texture(canvas);\n        texture.needsUpdate = true;\n        texture.generateMipmaps = true;\n        texture.magFilter = THREE.LinearFilter;\n        texture.minFilter = THREE.LinearFilter;\n\n        material = new THREE.MeshBasicMaterial({\n            map: texture,\n            transparent: true,\n            color: 0xffffff,\n            alphaTest: 0.3\n        });\n        plane = new THREE.Mesh(new THREE.PlaneBufferGeometry(size / 8, size / 8), material);\n        plane.doubleSided = true\n        plane.overdraw = true\n\n        return plane;\n\n    }\n}\n\n\n  //export { LabeledGrid };\n  //module.exports = LabeledGrid;\n\n  //autoresize, disabled for now\n  /*\n  updateGridSize() {\n        var max, maxX, maxY, min, minX, minY, size, subchild, _getBounds, _i, _len, _ref,\n          _this = this;\n        minX = 99999;\n        maxX = -99999;\n        minY = 99999;\n        maxY = -99999;\n        _getBounds = function(mesh) {\n          var bBox, subchild, _i, _len, _ref, _results;\n          if (mesh instanceof THREE.Mesh) {\n            mesh.geometry.computeBoundingBox();\n            bBox = mesh.geometry.boundingBox;\n            minX = Math.min(minX, bBox.min.x);\n            maxX = Math.max(maxX, bBox.max.x);\n            minY = Math.min(minY, bBox.min.y);\n            maxY = Math.max(maxY, bBox.max.y);\n            _ref = mesh.children;\n            _results = [];\n            for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n              subchild = _ref[_i];\n              _results.push(_getBounds(subchild));\n            }\n            return _results;\n          }\n        };\n        if (this.rootAssembly != null) {\n          _ref = this.rootAssembly.children;\n          for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n            subchild = _ref[_i];\n            if (subchild.name !== \"renderSubs\" && subchild.name !== \"connectors\") {\n              _getBounds(subchild);\n            }\n          }\n        }\n        max = Math.max(Math.max(maxX, maxY), 100);\n        min = Math.min(Math.min(minX, minY), -100);\n        size = (Math.max(max, Math.abs(min))) * 2;\n        size = Math.ceil(size / 10) * 10;\n        if (size >= 200) {\n          return this.resize(size);\n        }\n  };\n  */\n\n","module.exports = function () {\n    /**\n     * @author qiao / https://github.com/qiao\n     * @author mrdoob / http://mrdoob.com\n     * @author alteredq / http://alteredqualia.com/\n     * @author WestLangley / http://github.com/WestLangley\n     * @author erich666 / http://erichaines.com\n     * @author lucascassiano / http://github.com/lucascassiano\n     */\n\n    // This set of controls performs orbiting, dollying (zooming), and panning.\n    // Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by\n    // default).\n    //\n    //    Orbit - left mouse / touch: one finger move    Zoom - middle mouse, or\n    // mousewheel / touch: two finger spread or squish    Pan - right mouse, or\n    // arrow keys / touch: three finter swipe\n\n    /* -- last edit comments\n    this script was changed to support better gets and sets of angles\n    */\n    const THREE = require(\"three\");\n\n    function OrbitControls(object, domElement, updateExternal) {\n\n        this.object = object;\n\n        this.domElement = (domElement !== undefined) ?\n            domElement :\n            document;\n\n        // Set to false to disable this control\n        this.enabled = true;\n\n        // \"target\" sets the location of focus, where the object orbits around\n        this.target = new THREE.Vector3();\n\n        // How far you can dolly in and out ( PerspectiveCamera only )\n        this.minDistance = 0;\n        this.maxDistance = Infinity;\n\n        // How far you can zoom in and out ( OrthographicCamera only )\n        this.minZoom = 0;\n        this.maxZoom = Infinity;\n\n        // How far you can orbit vertically, upper and lower limits. Range is 0 to\n        // Math.PI radians.\n        this.minPolarAngle = 0; // radians\n        this.maxPolarAngle = Math.PI; // radians\n\n        // How far you can orbit horizontally, upper and lower limits. If set, must be a\n        // sub-interval of the interval [ - Math.PI, Math.PI ].\n        this.minAzimuthAngle = -Infinity; // radians\n        this.maxAzimuthAngle = Infinity; // radians\n\n        // Set to true to enable damping (inertia) If damping is enabled, you must call\n        // controls.update() in your animation loop\n        this.enableDamping = false;\n        this.dampingFactor = 0.25;\n\n        // This option actually enables dollying in and out; left as \"zoom\" for\n        // backwards compatibility. Set to false to disable zooming\n        this.enableZoom = true;\n        this.zoomSpeed = 1.0;\n\n        // Set to false to disable rotating\n        this.enableRotate = true;\n        this.rotateSpeed = 1.0;\n\n        // Set to false to disable panning\n        this.enablePan = true;\n        this.keyPanSpeed = 7.0; // pixels moved per arrow key push\n\n        // Set to true to automatically rotate around the target If auto-rotate is\n        // enabled, you must call controls.update() in your animation loop\n        this.autoRotate = false;\n        this.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n        // Set to false to disable use of the keys\n        this.enableKeys = true;\n\n        // The four arrow keys\n        this.keys = {\n            LEFT: 37,\n            UP: 38,\n            RIGHT: 39,\n            BOTTOM: 40\n        };\n\n        // Mouse buttons\n        this.mouseButtons = {\n            ORBIT: THREE.MOUSE.LEFT,\n            ZOOM: THREE.MOUSE.MIDDLE,\n            PAN: THREE.MOUSE.RIGHT\n        };\n\n        // for reset\n        this.target0 = this\n            .target\n            .clone();\n        this.position0 = this\n            .object\n            .position\n            .clone();\n        this.zoom0 = this.object.zoom;\n\n        this.updateExternal = updateExternal;\n        this.isExternallyControlled = false;\n\n        this.setExternalControl = function (value = false) {\n            this.isExternallyControlled = value;\n        }\n        //\n        // internals\n        //\n\n        var scope = this;\n\n        var changeEvent = {\n            type: 'change'\n        };\n        var startEvent = {\n            type: 'start'\n        };\n        var endEvent = {\n            type: 'end'\n        };\n\n        var STATE = {\n            NONE: -1,\n            ROTATE: 0,\n            DOLLY: 1,\n            PAN: 2,\n            TOUCH_ROTATE: 3,\n            TOUCH_DOLLY: 4,\n            TOUCH_PAN: 5\n        };\n\n        var state = STATE.NONE;\n\n        var EPS = 0.000001;\n\n        // current position in spherical coordinates\n        var spherical = new THREE.Spherical();\n        var sphericalDelta = new THREE.Spherical();\n\n        var scale = 1;\n        var panOffset = new THREE.Vector3();\n        var zoomChanged = false;\n\n        // Current position in spherical coordinate system.\n        var theta = 0;\n        var phi = 0;\n\n        // Pending changes\n        var phiDelta = 0;\n        var thetaDelta = 0;\n        var scale = 1;\n        var panOffset = new THREE.Vector3();\n        var zoomChanged = false;\n        //---\n        //\n        // public methods\n        //\n\n        this.setEnable = function (enable) {\n            this.enabled = enable;\n        }\n\n        this.getAngles = function () {\n            return { phi: spherical.phi, theta: spherical.theta };\n        }\n\n        this.getPolarAngle = function () {\n            return spherical.phi;\n        };\n\n        this.getAzimuthalAngle = function () {\n            return spherical.theta;\n        };\n\n        this.setPolarAngle = function (angle) {\n            phi = angle;\n            this.forceUpdate();\n        };\n\n        this.setAzimuthalAngle = function (angle) {\n            theta = angle;\n            this.forceUpdate();\n        };\n\n        this.setPolarAngleNoForcing = function (angle) {\n            phi = angle;\n            this.update();\n            //this.forceUpdate();\n        };\n\n        this.setAzimuthalAngleNoForcing = function (angle) {\n            theta = angle;\n            this.update();\n            //this.forceUpdate();\n        };\n\n        this.setSyncRotationObject = function (syncObject) {\n            this.syncObject;\n            if (this.syncObject.syncRotation) {\n                this.syncObject.syncRotation(this.setAngles);\n            }\n        }\n\n        /**\n         * update Orbit Controls\n         * @param {*} force \n         */\n        this.updateControls = function (force = false) {\n            if (force)\n                this.forceUpdate();\n            else\n                this.update();\n        }\n\n        this.setAngles = function (_phi, _theta) {\n            phi = _phi;\n            theta = _theta;\n            this.forceUpdate();\n        }\n\n        this.rotateLeft = function (angle) {\n\n            thetaDelta -= angle;\n        };\n\n        this.rotateUp = function (angle) {\n\n            phiDelta = angle;\n\n        };\n\n        this.setPhiDelta = function (angle) {\n            phiDelta = angle;\n            //this.forceUpdate();\n        };\n\n        this.setThetaDelta = function (angle) {\n            thetaDelta -= angle;\n            //this.forceUpdate();\n        };\n\n        // pass in distance in world space to move left\n        this.panLeft = function () {\n\n            var v = new THREE.Vector3();\n\n            return function panLeft(distance) {\n\n                var te = this.object.matrix.elements;\n\n                // get X column of matrix\n                v.set(te[0], te[1], te[2]);\n                v.multiplyScalar(-distance);\n\n                panOffset.add(v);\n\n            };\n\n        }();\n\n        // pass in distance in world space to move up\n        this.panUp = function () {\n\n            var v = new THREE.Vector3();\n\n            return function panUp(distance) {\n\n                var te = this.object.matrix.elements;\n\n                // get Y column of matrix\n                v.set(te[4], te[5], te[6]);\n                v.multiplyScalar(distance);\n\n                panOffset.add(v);\n\n            };\n\n        }();\n\n        // pass in x,y of change desired in pixel space, right and down are positive\n        this.pan = function (deltaX, deltaY, screenWidth, screenHeight) {\n\n            if (scope.object instanceof THREE.PerspectiveCamera) {\n\n                // perspective\n                var position = scope.object.position;\n                var offset = position\n                    .clone()\n                    .sub(scope.target);\n                var targetDistance = offset.length();\n\n                // half of the fov is center to top of screen\n                targetDistance *= Math.tan((scope.object.fov / 2) * Math.PI / 180.0);\n\n                // we actually don't use screenWidth, since perspective camera is fixed to\n                // screen height\n                scope.panLeft(2 * deltaX * targetDistance / screenHeight);\n                scope.panUp(2 * deltaY * targetDistance / screenHeight);\n\n            } else if (scope.object instanceof THREE.OrthographicCamera) {\n\n                // orthographic\n                scope.panLeft(deltaX * (scope.object.right - scope.object.left) / screenWidth);\n                scope.panUp(deltaY * (scope.object.top - scope.object.bottom) / screenHeight);\n\n            } else {\n\n                // camera neither orthographic or perspective\n                console.warn('WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.');\n\n            }\n\n        };\n\n        this.dollyIn = function (dollyScale) {\n\n            if (scope.object instanceof THREE.PerspectiveCamera) {\n\n                scale /= dollyScale;\n\n            } else if (scope.object instanceof THREE.OrthographicCamera) {\n\n                scope.object.zoom = Math.max(this.minZoom, Math.min(this.maxZoom, this.object.zoom * dollyScale));\n                scope\n                    .object\n                    .updateProjectionMatrix();\n                zoomChanged = true;\n\n            } else {\n\n                console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabl' +\n                    'ed.');\n\n            }\n\n        };\n\n        this.dollyOut = function (dollyScale) {\n\n            if (scope.object instanceof THREE.PerspectiveCamera) {\n\n                scale *= dollyScale;\n\n            } else if (scope.object instanceof THREE.OrthographicCamera) {\n\n                scope.object.zoom = Math.max(this.minZoom, Math.min(this.maxZoom, this.object.zoom / dollyScale));\n                scope\n                    .object\n                    .updateProjectionMatrix();\n                zoomChanged = true;\n\n            } else {\n\n                console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabl' +\n                    'ed.');\n\n            }\n\n        };\n\n        this.reset = function () {\n\n            scope\n                .target\n                .copy(scope.target0);\n            scope\n                .object\n                .position\n                .copy(scope.position0);\n            scope.object.zoom = scope.zoom0;\n\n            scope\n                .object\n                .updateProjectionMatrix();\n            scope.dispatchEvent(changeEvent);\n\n            scope.update();\n\n            state = STATE.NONE;\n\n        };\n\n        this.forceUpdate = function () {\n\n            var offset = new THREE.Vector3();\n\n            // so camera.up is the orbit axis\n            var quat = new THREE\n                .Quaternion()\n                .setFromUnitVectors(object.up, new THREE.Vector3(0, 1, 0));\n            var quatInverse = quat\n                .clone()\n                .inverse();\n\n            var lastPosition = new THREE.Vector3();\n            var lastQuaternion = new THREE.Quaternion();\n\n            return function () {\n\n                var position = this.object.position;\n\n                offset\n                    .copy(position)\n                    .sub(this.target);\n\n                // rotate offset to \"y-axis-is-up\" space\n                offset.applyQuaternion(quat);\n\n                // restrict theta to be between desired limits\n                theta = Math.max(this.minAzimuthAngle, Math.min(this.maxAzimuthAngle, theta));\n\n                // restrict phi to be between desired limits\n                phi = Math.max(this.minPolarAngle, Math.min(this.maxPolarAngle, phi));\n\n                // restrict phi to be betwee EPS and PI-EPS\n                phi = Math.max(EPS, Math.min(Math.PI - EPS, phi));\n\n                var radius = offset.length() * scale;\n\n                // restrict radius to be between desired limits\n                radius = Math.max(this.minDistance, Math.min(this.maxDistance, radius));\n\n                // move target to panned location\n                this\n                    .target\n                    .add(panOffset);\n\n                offset.x = radius * Math.sin(phi) * Math.sin(theta);\n                offset.y = radius * Math.cos(phi);\n                offset.z = radius * Math.sin(phi) * Math.cos(theta);\n\n                // rotate offset back to \"camera-up-vector-is-up\" space\n                offset.applyQuaternion(quatInverse);\n\n                position\n                    .copy(this.target)\n                    .add(offset);\n\n                this\n                    .object\n                    .lookAt(this.target);\n\n                if (this.enableDamping === true) {\n\n                    thetaDelta *= (1 - this.dampingFactor);\n                    phiDelta *= (1 - this.dampingFactor);\n\n                } else {\n\n                    thetaDelta = 0;\n                    phiDelta = 0;\n\n                }\n\n                scale = 1;\n                panOffset.set(0, 0, 0);\n\n                //new\n                if (scope.updateExternal && !scope.isExternallyControlled) {\n                    scope.updateExternal(phi, theta);\n                }\n\n                // update condition is: min(camera displacement, camera rotation in radians)^2 >\n                // EPS using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n                if (zoomChanged || lastPosition.distanceToSquared(this.object.position) > EPS || 8 * (1 - lastQuaternion.dot(this.object.quaternion)) > EPS) {\n\n                    lastPosition.copy(this.object.position);\n                    lastQuaternion.copy(this.object.quaternion);\n                    zoomChanged = false;\n\n                    return true;\n\n                }\n\n                return false;\n\n            };\n\n        }();\n\n        // this method is exposed, but perhaps it would be better if we can make it\n        // private...\n        this.update = function () {\n\n            var offset = new THREE.Vector3();\n\n            // so camera.up is the orbit axis\n            var quat = new THREE\n                .Quaternion()\n                .setFromUnitVectors(object.up, new THREE.Vector3(0, 1, 0));\n            var quatInverse = quat\n                .clone()\n                .inverse();\n\n            var lastPosition = new THREE.Vector3();\n            var lastQuaternion = new THREE.Quaternion();\n\n            return function update() {\n\n                var position = scope.object.position;\n\n                offset\n                    .copy(position)\n                    .sub(scope.target);\n\n                // rotate offset to \"y-axis-is-up\" space\n                offset.applyQuaternion(quat);\n\n                // angle from z-axis around y-axis\n                spherical.setFromVector3(offset);\n\n                if (scope.autoRotate && state === STATE.NONE) {\n\n                    rotateLeft(getAutoRotationAngle());\n\n                }\n\n                spherical.theta += sphericalDelta.theta;\n                spherical.phi += sphericalDelta.phi;\n\n                // restrict theta to be between desired limits\n                spherical.theta = Math.max(scope.minAzimuthAngle, Math.min(scope.maxAzimuthAngle, spherical.theta));\n\n                // restrict phi to be between desired limits\n                spherical.phi = Math.max(scope.minPolarAngle, Math.min(scope.maxPolarAngle, spherical.phi));\n\n                spherical.makeSafe();\n\n                spherical.radius *= scale;\n\n                // restrict radius to be between desired limits\n                spherical.radius = Math.max(scope.minDistance, Math.min(scope.maxDistance, spherical.radius));\n\n                // move target to panned location\n                scope\n                    .target\n                    .add(panOffset);\n\n                offset.setFromSpherical(spherical);\n\n                // rotate offset back to \"camera-up-vector-is-up\" space\n                offset.applyQuaternion(quatInverse);\n\n                position\n                    .copy(scope.target)\n                    .add(offset);\n\n                scope\n                    .object\n                    .lookAt(scope.target);\n\n                if (scope.enableDamping === true) {\n\n                    sphericalDelta.theta *= (1 - scope.dampingFactor);\n                    sphericalDelta.phi *= (1 - scope.dampingFactor);\n\n                } else {\n\n                    sphericalDelta.set(0, 0, 0);\n\n                }\n\n                scale = 1;\n                panOffset.set(0, 0, 0);\n\n                //new\n                if (scope.updateExternal && !scope.isExternallyControlled) {\n                    scope.updateExternal(spherical.phi, spherical.theta);\n                }\n\n                // update condition is: min(camera displacement, camera rotation in radians)^2 >\n                // EPS using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n                if (zoomChanged || lastPosition.distanceToSquared(scope.object.position) > EPS || 8 * (1 - lastQuaternion.dot(scope.object.quaternion)) > EPS) {\n\n                    scope.dispatchEvent(changeEvent);\n\n                    lastPosition.copy(scope.object.position);\n                    lastQuaternion.copy(scope.object.quaternion);\n                    zoomChanged = false;\n\n                    return true;\n\n                }\n\n                return false;\n\n            };\n\n        }();\n\n        this.dispose = function () {\n\n            scope\n                .domElement\n                .removeEventListener('contextmenu', onContextMenu, false);\n            scope\n                .domElement\n                .removeEventListener('mousedown', onMouseDown, false);\n            scope\n                .domElement\n                .removeEventListener('wheel', onMouseWheel, false);\n\n            scope\n                .domElement\n                .removeEventListener('touchstart', onTouchStart, false);\n            scope\n                .domElement\n                .removeEventListener('touchend', onTouchEnd, false);\n            scope\n                .domElement\n                .removeEventListener('touchmove', onTouchMove, false);\n\n            scope\n                .domElement\n                .removeEventListener('mousemove', onMouseMove, false);\n            scope\n                .domElement\n                .removeEventListener('mouseup', onMouseUp, false);\n\n            scope\n                .domElement\n                .removeEventListener('keydown', onKeyDown, false);\n\n\n            //scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n        };\n\n        var rotateStart = new THREE.Vector2();\n        var rotateEnd = new THREE.Vector2();\n        var rotateDelta = new THREE.Vector2();\n\n        var panStart = new THREE.Vector2();\n        var panEnd = new THREE.Vector2();\n        var panDelta = new THREE.Vector2();\n\n        var dollyStart = new THREE.Vector2();\n        var dollyEnd = new THREE.Vector2();\n        var dollyDelta = new THREE.Vector2();\n\n        function getAutoRotationAngle() {\n\n            return 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n        }\n\n        function getZoomScale() {\n\n            return Math.pow(0.95, scope.zoomSpeed);\n\n        }\n\n        function rotateLeft(angle) {\n\n            sphericalDelta.theta -= angle;\n            //new\n            if (scope.updateExternal && !scope.isExternallyControlled) {\n                scope.updateExternal(phi, theta);\n            }\n        }\n\n        function rotateUp(angle) {\n\n            sphericalDelta.phi -= angle;\n            //new\n            if (scope.updateExternal && !scope.isExternallyControlled) {\n                scope.updateExternal(phi, theta);\n            }\n        }\n\n        var panLeft = function () {\n\n            var v = new THREE.Vector3();\n\n            return function panLeft(distance, objectMatrix) {\n\n                v.setFromMatrixColumn(objectMatrix, 0); // get X column of objectMatrix\n                v.multiplyScalar(-distance);\n\n                panOffset.add(v);\n\n            };\n\n        }();\n\n        var panUp = function () {\n\n            var v = new THREE.Vector3();\n\n            return function panUp(distance, objectMatrix) {\n\n                v.setFromMatrixColumn(objectMatrix, 1); // get Y column of objectMatrix\n                v.multiplyScalar(distance);\n\n                panOffset.add(v);\n\n            };\n\n        }();\n\n        // deltaX and deltaY are in pixels; right and down are positive\n        var pan = function () {\n\n            var offset = new THREE.Vector3();\n\n            return function pan(deltaX, deltaY) {\n\n                var element = scope.domElement === document ?\n                    scope.domElement.body :\n                    scope.domElement;\n\n                if (scope.object instanceof THREE.PerspectiveCamera) {\n\n                    // perspective\n                    var position = scope.object.position;\n                    offset\n                        .copy(position)\n                        .sub(scope.target);\n                    var targetDistance = offset.length();\n\n                    // half of the fov is center to top of screen\n                    targetDistance *= Math.tan((scope.object.fov / 2) * Math.PI / 180.0);\n\n                    // we actually don't use screenWidth, since perspective camera is fixed to\n                    // screen height\n                    panLeft(2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix);\n                    panUp(2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix);\n\n                } else if (scope.object instanceof THREE.OrthographicCamera) {\n\n                    // orthographic\n                    panLeft(deltaX * (scope.object.right - scope.object.left) / scope.object.zoom / element.clientWidth, scope.object.matrix);\n                    panUp(deltaY * (scope.object.top - scope.object.bottom) / scope.object.zoom / element.clientHeight, scope.object.matrix);\n\n                } else {\n\n                    // camera neither orthographic nor perspective\n                    console.warn('WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.');\n                    scope.enablePan = false;\n\n                }\n\n            };\n\n        }();\n\n        function dollyIn(dollyScale) {\n\n            if (scope.object instanceof THREE.PerspectiveCamera) {\n\n                scale /= dollyScale;\n\n            } else if (scope.object instanceof THREE.OrthographicCamera) {\n\n                scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom * dollyScale));\n                scope\n                    .object\n                    .updateProjectionMatrix();\n                zoomChanged = true;\n\n            } else {\n\n                console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabl' +\n                    'ed.');\n                scope.enableZoom = false;\n\n            }\n\n        }\n\n        function dollyOut(dollyScale) {\n\n            if (scope.object instanceof THREE.PerspectiveCamera) {\n\n                scale *= dollyScale;\n\n            } else if (scope.object instanceof THREE.OrthographicCamera) {\n\n                scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom / dollyScale));\n                scope\n                    .object\n                    .updateProjectionMatrix();\n                zoomChanged = true;\n\n            } else {\n\n                console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabl' +\n                    'ed.');\n                scope.enableZoom = false;\n\n            }\n\n        }\n\n        //\n        // event callbacks - update the object state\n        //\n\n        function handleMouseDownRotate(event) {\n\n            console.log('handleMouseDownRotate');\n\n            rotateStart.set(event.clientX, event.clientY);\n\n        }\n\n        function handleMouseDownDolly(event) {\n\n            //console.log( 'handleMouseDownDolly' );\n\n            dollyStart.set(event.clientX, event.clientY);\n\n        }\n\n        function handleMouseDownPan(event) {\n\n            //console.log( 'handleMouseDownPan' );\n\n            panStart.set(event.clientX, event.clientY);\n\n        }\n\n        function handleMouseMoveRotate(event) {\n\n            //console.log('handleMouseMoveRotate');\n\n            rotateEnd.set(event.clientX, event.clientY);\n            rotateDelta.subVectors(rotateEnd, rotateStart);\n\n            var element = scope.domElement === document ?\n                scope.domElement.body :\n                scope.domElement;\n\n            // rotating across whole screen goes 360 degrees around\n            rotateLeft(2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed);\n\n            // rotating up and down along whole screen attempts to go 360, but limited to\n            // 180\n            rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed);\n\n            rotateStart.copy(rotateEnd);\n\n            scope.update();\n\n        }\n\n        function handleMouseMoveDolly(event) {\n\n            //console.log( 'handleMouseMoveDolly' );\n\n            dollyEnd.set(event.clientX, event.clientY);\n\n            dollyDelta.subVectors(dollyEnd, dollyStart);\n\n            if (dollyDelta.y > 0) {\n\n                dollyIn(getZoomScale());\n\n            } else if (dollyDelta.y < 0) {\n\n                dollyOut(getZoomScale());\n\n            }\n\n            dollyStart.copy(dollyEnd);\n\n            scope.update();\n\n        }\n\n        function handleMouseMovePan(event) {\n\n            //console.log( 'handleMouseMovePan' );\n\n            panEnd.set(event.clientX, event.clientY);\n\n            panDelta.subVectors(panEnd, panStart);\n\n            pan(panDelta.x, panDelta.y);\n\n            panStart.copy(panEnd);\n\n            scope.update();\n\n        }\n\n        function handleMouseUp(event) {\n\n            //console.log( 'handleMouseUp' );\n\n        }\n\n        function handleMouseWheel(event) {\n\n            //console.log( 'handleMouseWheel' );\n\n            if (event.deltaY < 0) {\n\n                dollyOut(getZoomScale());\n\n            } else if (event.deltaY > 0) {\n\n                dollyIn(getZoomScale());\n\n            }\n\n            scope.update();\n\n        }\n\n        function handleKeyDown(event) {\n\n            //console.log( 'handleKeyDown' );\n\n            switch (event.keyCode) {\n\n                case scope.keys.UP:\n                    pan(0, scope.keyPanSpeed);\n                    scope.update();\n                    break;\n\n                case scope.keys.BOTTOM:\n                    pan(0, -scope.keyPanSpeed);\n                    scope.update();\n                    break;\n\n                case scope.keys.LEFT:\n                    pan(scope.keyPanSpeed, 0);\n                    scope.update();\n                    break;\n\n                case scope.keys.RIGHT:\n                    pan(-scope.keyPanSpeed, 0);\n                    scope.update();\n                    break;\n\n            }\n\n        }\n\n        function handleTouchStartRotate(event) {\n\n            //console.log( 'handleTouchStartRotate' );\n\n            rotateStart.set(event.touches[0].pageX, event.touches[0].pageY);\n\n        }\n\n        function handleTouchStartDolly(event) {\n\n            //console.log( 'handleTouchStartDolly' );\n\n            var dx = event.touches[0].pageX - event.touches[1].pageX;\n            var dy = event.touches[0].pageY - event.touches[1].pageY;\n\n            var distance = Math.sqrt(dx * dx + dy * dy);\n\n            dollyStart.set(0, distance);\n\n        }\n\n        function handleTouchStartPan(event) {\n\n            //console.log( 'handleTouchStartPan' );\n\n            panStart.set(event.touches[0].pageX, event.touches[0].pageY);\n\n        }\n\n        function handleTouchMoveRotate(event) {\n\n            //console.log( 'handleTouchMoveRotate' );\n\n            rotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n            rotateDelta.subVectors(rotateEnd, rotateStart);\n\n            var element = scope.domElement === document ?\n                scope.domElement.body :\n                scope.domElement;\n\n            // rotating across whole screen goes 360 degrees around\n            rotateLeft(2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed);\n\n            // rotating up and down along whole screen attempts to go 360, but limited to\n            // 180\n            rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed);\n\n            rotateStart.copy(rotateEnd);\n\n            scope.update();\n\n        }\n\n        function handleTouchMoveDolly(event) {\n\n            //console.log( 'handleTouchMoveDolly' );\n\n            var dx = event.touches[0].pageX - event.touches[1].pageX;\n            var dy = event.touches[0].pageY - event.touches[1].pageY;\n\n            var distance = Math.sqrt(dx * dx + dy * dy);\n\n            dollyEnd.set(0, distance);\n\n            dollyDelta.subVectors(dollyEnd, dollyStart);\n\n            if (dollyDelta.y > 0) {\n\n                dollyOut(getZoomScale());\n\n            } else if (dollyDelta.y < 0) {\n\n                dollyIn(getZoomScale());\n\n            }\n\n            dollyStart.copy(dollyEnd);\n\n            scope.update();\n\n        }\n\n        function handleTouchMovePan(event) {\n\n            //console.log( 'handleTouchMovePan' );\n\n            panEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n\n            panDelta.subVectors(panEnd, panStart);\n\n            pan(panDelta.x, panDelta.y);\n\n            panStart.copy(panEnd);\n\n            scope.update();\n\n        }\n\n        function handleTouchEnd(event) {\n\n            //console.log( 'handleTouchEnd' );\n\n        }\n\n        //\n        // event handlers - FSM: listen for events and reset state\n        //\n\n        function onMouseDown(event) {\n\n            if (scope.enabled == false)\n                return;\n\n            event.preventDefault();\n\n            if (event.button === scope.mouseButtons.ORBIT) {\n\n                if (scope.enableRotate === false)\n                    return;\n\n                handleMouseDownRotate(event);\n\n                state = STATE.ROTATE;\n\n            } else if (event.button === scope.mouseButtons.ZOOM) {\n\n                if (scope.enableZoom === false)\n                    return;\n\n                handleMouseDownDolly(event);\n\n                state = STATE.DOLLY;\n\n            } else if (event.button === scope.mouseButtons.PAN) {\n\n                if (scope.enablePan === false)\n                    return;\n\n                handleMouseDownPan(event);\n\n                state = STATE.PAN;\n\n            }\n\n            if (state !== STATE.NONE) {\n\n                scope\n                    .domElement\n                    .addEventListener('mousemove', onMouseMove, false);\n                scope\n                    .domElement\n                    .addEventListener('mouseup', onMouseUp, false);\n\n                scope.dispatchEvent(startEvent);\n\n            }\n\n        }\n\n        function onMouseMove(event) {\n\n            if (scope.enabled == false)\n                return;\n\n            event.preventDefault();\n\n            if (state === STATE.ROTATE) {\n\n                if (scope.enableRotate === false)\n                    return;\n\n                handleMouseMoveRotate(event);\n\n            } else if (state === STATE.DOLLY) {\n\n                if (scope.enableZoom === false)\n                    return;\n\n                handleMouseMoveDolly(event);\n\n            } else if (state === STATE.PAN) {\n\n                if (scope.enablePan === false)\n                    return;\n\n                handleMouseMovePan(event);\n\n            }\n\n        }\n\n        function onMouseUp(event) {\n\n            if (scope.enabled == false)\n                return;\n\n            handleMouseUp(event);\n\n            document.removeEventListener('mousemove', onMouseMove, false);\n            document.removeEventListener('mouseup', onMouseUp, false);\n\n            scope.dispatchEvent(endEvent);\n\n            state = STATE.NONE;\n\n        }\n\n        function onMouseWheel(event) {\n\n            if (scope.enabled === false || scope.enableZoom === false || (state !== STATE.NONE && state !== STATE.ROTATE))\n                return;\n\n            event.preventDefault();\n            event.stopPropagation();\n\n            handleMouseWheel(event);\n\n            scope.dispatchEvent(startEvent); // not sure why these are here...\n            scope.dispatchEvent(endEvent);\n\n        }\n\n        function onKeyDown(event) {\n\n            if (scope.enabled === false || scope.enableKeys === false || scope.enablePan === false)\n                return;\n\n            handleKeyDown(event);\n\n        }\n\n        function onTouchStart(event) {\n\n            if (scope.enabled === false)\n                return;\n\n            switch (event.touches.length) {\n\n                case 1: // one-fingered touch: rotate\n\n                    if (scope.enableRotate === false)\n                        return;\n\n                    handleTouchStartRotate(event);\n\n                    state = STATE.TOUCH_ROTATE;\n\n                    break;\n\n                case 2: // two-fingered touch: dolly\n\n                    if (scope.enableZoom === false)\n                        return;\n\n                    handleTouchStartDolly(event);\n\n                    state = STATE.TOUCH_DOLLY;\n\n                    break;\n\n                case 3: // three-fingered touch: pan\n\n                    if (scope.enablePan === false)\n                        return;\n\n                    handleTouchStartPan(event);\n\n                    state = STATE.TOUCH_PAN;\n\n                    break;\n\n                default:\n\n                    state = STATE.NONE;\n\n            }\n\n            if (state !== STATE.NONE) {\n\n                scope.dispatchEvent(startEvent);\n\n            }\n\n        }\n\n        function onTouchMove(event) {\n\n            if (scope.enabled === false)\n                return;\n\n            event.preventDefault();\n            event.stopPropagation();\n\n            switch (event.touches.length) {\n\n                case 1: // one-fingered touch: rotate\n\n                    if (scope.enableRotate === false)\n                        return;\n                    if (state !== STATE.TOUCH_ROTATE)\n                        return; // is this needed?...\n\n                    handleTouchMoveRotate(event);\n\n                    break;\n\n                case 2: // two-fingered touch: dolly\n\n                    if (scope.enableZoom === false)\n                        return;\n                    if (state !== STATE.TOUCH_DOLLY)\n                        return; // is this needed?...\n\n                    handleTouchMoveDolly(event);\n\n                    break;\n\n                case 3: // three-fingered touch: pan\n\n                    if (scope.enablePan === false)\n                        return;\n                    if (state !== STATE.TOUCH_PAN)\n                        return; // is this needed?...\n\n                    handleTouchMovePan(event);\n\n                    break;\n\n                default:\n\n                    state = STATE.NONE;\n\n            }\n\n        }\n\n        function onTouchEnd(event) {\n\n            if (scope.enabled === false)\n                return;\n\n            handleTouchEnd(event);\n\n            scope.dispatchEvent(endEvent);\n\n            state = STATE.NONE;\n\n        }\n\n        function onContextMenu(event) {\n\n            event.preventDefault();\n\n        }\n\n        //\n\n        scope\n            .domElement\n            .addEventListener('contextmenu', onContextMenu, false);\n\n        scope\n            .domElement\n            .addEventListener('mousedown', onMouseDown, false);\n        scope\n            .domElement\n            .addEventListener('wheel', onMouseWheel, false);\n\n        scope\n            .domElement\n            .addEventListener('touchstart', onTouchStart, false);\n        scope\n            .domElement\n            .addEventListener('touchend', onTouchEnd, false);\n        scope\n            .domElement\n            .addEventListener('touchmove', onTouchMove, false);\n\n        scope\n            .domElement\n            .addEventListener('keydown', onKeyDown, false);\n\n\n\n        this.update();\n\n    };\n\n    OrbitControls.prototype = Object.create(THREE.EventDispatcher.prototype);\n    OrbitControls.prototype.constructor = OrbitControls;\n\n    Object.defineProperties(OrbitControls.prototype, {\n\n        center: {\n\n            get: function () {\n\n                console.warn('THREE.OrbitControls: .center has been renamed to .target');\n                return this.target;\n\n            }\n\n        },\n\n        // backward compatibility\n\n        noZoom: {\n\n            get: function () {\n\n                console.warn('THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.');\n                return !this.enableZoom;\n\n            },\n\n            set: function (value) {\n\n                console.warn('THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.');\n                this.enableZoom = !value;\n\n            }\n\n        },\n\n        noRotate: {\n\n            get: function () {\n\n                console.warn('THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.');\n                return !this.enableRotate;\n\n            },\n\n            set: function (value) {\n\n                console.warn('THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.');\n                this.enableRotate = !value;\n\n            }\n\n        },\n\n        noPan: {\n\n            get: function () {\n\n                console.warn('THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.');\n                return !this.enablePan;\n\n            },\n\n            set: function (value) {\n\n                console.warn('THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.');\n                this.enablePan = !value;\n\n            }\n\n        },\n\n        noKeys: {\n\n            get: function () {\n\n                console.warn('THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.');\n                return !this.enableKeys;\n\n            },\n\n            set: function (value) {\n\n                console.warn('THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.');\n                this.enableKeys = !value;\n\n            }\n\n        },\n\n        staticMoving: {\n\n            get: function () {\n\n                console.warn('THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping inste' +\n                    'ad.');\n                return !this.enableDamping;\n\n            },\n\n            set: function (value) {\n\n                console.warn('THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping inste' +\n                    'ad.');\n                this.enableDamping = !value;\n\n            }\n\n        },\n\n        dynamicDampingFactor: {\n\n            get: function () {\n\n                console.warn('THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor ' +\n                    'instead.');\n                return this.dampingFactor;\n\n            },\n\n            set: function (value) {\n\n                console.warn('THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor ' +\n                    'instead.');\n                this.dampingFactor = value;\n\n            }\n\n        }\n\n    });\n\n    return OrbitControls;\n};","/*************************************************************************************************************\n@lucascassiano\nSimilar to CubeView from R1\nimplements the new version of a handler that helps rotate the camere to specific locations, e.g. TOP or Front\n**************************************************************************************************************/\n\nimport * as THREE from \"three\";\n\nvar OrbitControls = require('./utils/OrbitControls.js')(THREE);\nvar TWEEN = require('@tweenjs/tween.js');\n\n//Base64 images converted @ https://www.base64-image.de\nconst texture_top = 'data:image/png;base64,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';\nconst texture_right = 'data:image/png;base64,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';\nconst texture_left = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAAXNSR0IArs4c6QAABGZJREFUeAHtnb1KK1EUhU/MFQURRAux8yHS+VNoJYqthfgMsUjvM+QptLURfAB9BUUbC8FKtBAb0VwmkMCWYTkh15m5Wd9AMHv2yTlnrfU5ZEIgjU6n00sctg5M2SpHeN+BPwMf2u324Cl/DRzodrt9lVwBDMJWEgFAuWPQAwCDkJVEAFDuGPQAwCBkJREAlDsGPQAwCFlJBADljkEPAAxCVhIBQLlj0AMAg5CVRABQ7hj0AMAgZCURAJQ7Bj0AMAhZSQQA5Y5BDwAMQlYSAUC5Y9ADAIOQlUQAUO4Y9ADAIGQlEQCUOwY9ADAIWUkEAOWOQQ8ADEJWEgFAuWPQAwCDkJVEAFDuGPQAwCBkJREAlDsGPQAwCFlJBADljkEPAAxCVhIBQLlj0AMAg5CVRABQ7hj0AMAgZCURAJQ7Bj0AMAhZSQQA5Y5BDwAMQlYSAUC5Y9ADAIOQlUQAUO4Y9ADAIGQlEQCUOwY9ADAIWUkEAOWOQQ8ADEJWEgFAuWPQAwCDkJXE4W8GqUFl9M7OztL7+3s6OjpK09PTIy15e3ubrq+vR3pNNnhubi4dHBwMXzfYw/BEgScrKyvp6empwMj8IcvLy2l3dze/WcLZ2gBwd3eX3t7e0ufn58gAvLy8pAyCRqORpqaKX9QWFhaCxYM9NJvNcF4V2dj7+/vcIV9fX6nX68l9fXx85L62rJO1AeBfCF5bW0v7+/tjT3VycpJmZ2fHnufq6iqdn5+njY2NtLe3N/Z8vzFB8X+X31idOSt3AAAqj6DaDQBAtf5XvjoAVB5BtRsAgGr9r3x1AKg8gmo3MFG3gQ8PD+ni4qKwo1tbW7m3e5eXlz9+FpF95rCzs1N4rboOnCgAHh8fU/Yoeqyvr+cCkN2//3RkHwABwE8uldxvtVppe3u78Krz8/O5Y4+Pj9PMzExub9JOTtQVIPv0bmlpaeyMFhcXc68MY09cwwl4E1jDUMrcEgCU6XYN1wKAGoZS5pYAoEy3a7gWANQwlDK3BABlul3DtWp3G3h6epqKfiNndXU1bW5uDm29ublJr6+vw7rIk8PDw8LrFZnvfxtTOwCyEIse30F5fn5O2WOUI/vKlvPR6HQ6fQfa7bazD3bau91uXzPvAeyij4IBIPphVwGAXeRRMABEP+wqALCLPAoGgOiHXQUAdpFHwQAQ/bCrAMAu8igYAKIfdhUA2EUeBQNA9MOuAgC7yKNgAIh+2FUAYBd5FAwA0Q+7CgDsIo+CASD6YVcBgF3kUTAARD/sKgCwizwKBoDoh10FAHaRR8EAEP2wqwDALvIoGACiH3YVANhFHgUDQPTDrgIAu8ijYACIfthVAGAXeRQMANEPuwoA7CKPggEg+mFXAYBd5FEwAEQ/7CoAsIs8CgaA6IddBQB2kUfBABD9sKsAwC7yKBgAoh92FQDYRR4FA0D0w64CALvIo2AAiH7YVQBgF3kUDADRD7sKAOwij4IBIPphVw1/M2jwEyJ2DpgL5gpgDsBfeI905rJ3A+AAAAAASUVORK5CYII=';\nconst texture_front = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAAXNSR0IArs4c6QAACRxJREFUeAHtXVeLVE0QrdU1hzVHjJhRMQfEnHANmAPoqw8iruC++xNkQR8EHwRFxYDog5gDqJgxK4qKGbOimHU/TkMPd3fn1s6MU/vVbFeBzp2u7rpdp053V3cPbF5xcXEpmQSLQI1gPTfHHQL5HoeioiL/aJ8BIFBSUuK8tBkggGBzLhoBOHQC0BkBAggy56IRgEMnAJ0RIIAgcy4aATh0AtAZAQIIMueiEYBDJwCdESCAIHMuGgE4dALQGQECCDLnohGAQycAnREggCBzLhoBOHQC0BkBAggy56IRgEMnAJ0RIIAgcy4aATh0AtAZAQIIMueiEYBDJwCdESCAIHMuGgE4dALQGQECCDLnohGAQycAnREggCBzLhoBOHQC0BkBAggy56IRgEMnAJ0RIIAgcy4aATh0AtAZAQIIMueiEYBDJwCdESCAIHMuGgE4dALQGQECCDLnohGAQycAnREggCBzLhoBOHQC0BkBAggy56IRgEMnAJ0RIIAgcy4aATh0AtAZAQIIMueiEYBDJwCdESCAIHMuGgE4dALQGQECCDLnohGAQycAnREggCBzLhoBOHQC0AVLgK9fv9KnT5/oz58/AYQ53sXE3wyKr5KeZseOHQRw05EZM2ZQq1at6O7du3T27NlKm9atW5eaN29Obdq0ob59+1LNmjUrbfPz50+6ePEiXb9+nZ4+fUq/f/9OtGncuDH17t2bhg4dSh07dkyUJ3vYunUrwdaAAQNo0KBByaokLTt9+jTdu3ePxo0bR127diX/PWnlFApbt25N06dPT6EmXyXrBICTX758SSkovmvfv393jx8+fHAkyMvLoxo14ien6Kht2rSpA6J///7eXIXP169f05YtW+jVq1dOV79+ferWrRsh8E+ePHHl58+fpwsXLtCkSZNo8uTJFWz4AviH/j58+JA6derkiOh13OfLly+dbyAOBH25f/9+0iZ///6l0tJS4nD49etX0rbpFmadAL4Da9euJYzUTGTUqFE0a9as2KYIwLt37+jcuXOEwG3bto0aNmzoRlb5Rjdu3KCdO3fSjx8/3OgbNmwYtWjRokw16B4/fkx79+6lI0eOuBliyZIlVK9evTL1ol8wC2C2W7FihQtUVJfK87x5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';\nconst texture_back = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAAXNSR0IArs4c6QAACoVJREFUeAHtXddrlFsQn8TYsfeGvfcuWFAU+4OIXURRsYJ5Cb74IP4J0ScRFbsgNlAUUcTeC/aCvffeldz7Gzi5X5L9Tr7djTsn98zAZne/06b8zsycOQtJy8rKyiElbzWQ7q3kKjhrIMPoITMz03zUdw80kJ2dzVKqB/DA2DYRFQA27XjQpgDwwMg2ERUANu140KYA8MDINhEVADbteNCmAPDAyDYRFQA27XjQpgDwwMg2ERUANu140KYA8MDINhEVADbteNCmAPDAyDYRFQA27XjQpgDwwMg2ERUANu140KYA8MDINhEVADbteNCmAPDAyDYRFQA27XjQpgDwwMg2ERUANu140KYA8MDINhEVADbteNCmAPDAyDYRFQA27XjQpgDwwMg2ERUANu140KYA8MDINhEVADbteNCmAPDAyDYRFQA27XjQpgDwwMg2ERUANu140KYA8MDINhEVADbteNCmAPDAyDYRFQA27XjQpgDwwMg2ERUANu140KYA8MDINhEVADbteNCmAPDAyDYRFQA27XjQpgDwwMg2ERUANu140KYA8MDINhEVADbteNCmAPDAyDYRFQA27XjQpgCIYOTv37/Tx48fI/Qsfl1y/2dQqljfvHkzff361bpcuXLlqEKFClSzZk3q0KEDlS5d2to/2Pjnzx/asGED/f79m7p06UKdOnUKNkf6jDnOnTtHly5donv37tGvX794XMmSJal69erUpEkT6t+/P1WqVCl0PiPnlClTCOOi0KNHj2j//v2Uk5NDffv2pebNm0cZllSflAPg1q1b9PnzZypRokQo4zCAoZ07d7IyhgwZYh5Z369evUpXrlzhPu/fv48bANjp69atowcPHvAcAF+zZs2oRo0a9PbtW3r27BkdO3aMTp06Rb169aIRI0bElMXICVmiAODOnTu0evVq+vnzJw0fPjwlxoeAKQcAa/XfP4sXL6YyZcqYr3nef/z4Qe/evaMLFy6wsg8cOMDtUUBw4sQJSk9Pp9q1a9PTp08Ju6pBgwZ55g/7cvfuXVq/fj0DtHv37tSnTx+eJy0tLXcIduf58+dp3759dPToUfry5QtNnDgxtz2RDwDsxo0bCWAZM2YM9ejRI5FpEhrjZA6AXQcD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';\nconst texture_bottom = 'data:image/png;base64,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';\nconst texture_shadow = 'data:image/png;base64,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';\n\nexport default class viewerHelper {\n    constructor(_canvas_id, _controls, callback, color = 0x0078A4) {\n        this.hoverColor = color;\n\n        this.canvas = document.getElementById(_canvas_id);\n        this.externalControls = _controls;\n        this.listenExternal = true;\n\n        this.scene = new THREE.Scene();\n        this.camera = new THREE.PerspectiveCamera(45, this.canvas.offsetWidth / this.canvas.offsetHeight, 0.1, 10000);\n        this.camera.position.set(0, 10, -30)\n        this.camera.lookAt(new THREE.Vector3());\n\n        this.enabled = true;\n        var renderer = new THREE.WebGLRenderer({\n            canvas: this.canvas,\n            antialias: true,\n            alpha: true,\n            //performance improvements\n            preserveDrawingBuffer: false,\n            failIfMajorPerformanceCaveat: true\n        });\n\n        renderer.setSize(this.canvas.offsetWidth, this.canvas.offsetHeight);\n        renderer.setClearColor(0x000000, 0.0);\n        renderer.setPixelRatio(window.devicePixelRatio);\n\n        this.renderer = renderer;\n\n        this.controls = new OrbitControls(this.camera, this.canvas);\n        this.controls.enableZoom = false;\n        this.controls.enablePan = false;\n\n        var cubeScale = 12;\n        var geometry = new THREE.BoxGeometry(cubeScale, cubeScale, cubeScale);\n        var material = new THREE.MeshBasicMaterial({ color: 0x0000FF });\n        var cube = new THREE.Mesh(geometry, material);\n        cube.name = \"cube1\";\n\n        let size = 12;\n\n        let AxisSize = size + 4;\n        var axisHelper = new THREE.AxesHelper(AxisSize);\n        axisHelper.position.set(-size / 2 - 0.25, -size / 2 - 0.25, -size / 2 - 0.25);\n        this.scene.add(axisHelper);\n\n        //creates the main cube\n        this.createCube(size);\n\n        //User Interactions\n        this.mouseMoving = false;\n        this.mouse = new THREE.Vector2(-100000, -100000);\n        this.raycaster = new THREE.Raycaster();\n\n        this.canvas.addEventListener('mousemove', this.onMouseMove);\n        this.canvas.addEventListener('mousedown', this.onMouseDown);\n        this.canvas.addEventListener('mouseup', this.onMouseUp);\n\n        this.animate = this.animate.bind(this);\n        this.animate();\n    }\n\n    onMouseDown = (event) => {\n        if (!this.enabled) return;\n\n        this.mouseMoving = false;\n        this.listenExternal = false;\n    }\n\n    onMouseMove = (event) => {\n        if (!this.enabled) return;\n\n        this.mouseMoving = true;\n        var rect = this.canvas.getBoundingClientRect();\n        this.mouse.x = ((event.clientX - rect.left) / rect.width) * 2 - 1;\n        this.mouse.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;\n    }\n\n    //this identifies if the click was stable or the user was just orbiting the cube\n    onMouseUp = (event) => {\n        if (!this.enabled) return;\n\n        if (this.mouseMoving == false) {\n            if (this.INTERSECTED) {\n                this.setViewAngle(this.INTERSECTED.name);\n            }\n        } else if (this.mouseMoving = true) {\n            console.log('drag');\n        }\n\n        this.listenExternal = true;\n    }\n\n    animate(time) {\n        requestAnimationFrame(this.animate);\n        TWEEN.update(time);\n\n        this.camera.updateMatrixWorld();\n\n        this.raycaster.setFromCamera(this.mouse, this.camera);\n        var intersects = this.raycaster.intersectObjects(this.controllers.children);\n\n        if (intersects.length > 0) {\n            if (this.INTERSECTED != intersects[0].object) {\n                if (this.INTERSECTED) {\n                    this.INTERSECTED.material.color.setHex(this.INTERSECTED.currentHex); //<--putback\n                    this.INTERSECTED.material.visible = this.INTERSECTED.currVisible;\n                }\n\n                this.INTERSECTED = intersects[0].object;\n                this.INTERSECTED.currentHex = this.INTERSECTED.material.color.getHex(); //<-putback\n\n                this.INTERSECTED.currVisible = this.INTERSECTED.material.visible;\n\n                //INTERSECTED.material.color.setHex(hoverColor);\n                this.INTERSECTED.material.visible = true;\n            }\n        } else {\n            if (this.INTERSECTED) {\n                this.INTERSECTED.material.color.setHex(this.INTERSECTED.currentHex); //<-putback\n                this.INTERSECTED.material.visible = this.INTERSECTED.currVisible;\n            }\n\n            this.INTERSECTED = null;\n\n            this.controls.update();\n        }\n\n        //console.log(\"angles\", this.externalControls.getAngles());\n\n\n\n        if (this.listenExternal) {\n            let { phi, theta } = this.externalControls.getAngles();\n            this.controls.setAngles(phi, theta);\n        }\n        else {\n            let { phi, theta } = this.controls.getAngles();\n            this.externalControls.setPolarAngle(phi);\n            this.externalControls.setAzimuthalAngle(theta);\n            this.externalControls.update();\n        }\n\n        this.renderer.render(this.scene, this.camera);\n    }\n\n    createCube = (size) => {\n        var top = this.createTexturedPlane(size, texture_top);\n        top.position.y = size / 2;\n        top.rotation.x = -Math.PI / 2;\n        this.scene.add(top);\n\n        var front = this.createTexturedPlane(size, texture_front);\n        front.position.z = size / 2;\n        this.scene.add(front);\n\n        var right = this.createTexturedPlane(size, texture_right);\n        right.position.x = size / 2;\n        right.rotation.y = Math.PI / 2;\n        this.scene.add(right);\n\n        var left = this.createTexturedPlane(size, texture_left);\n        left.position.x = -size / 2;\n        left.rotation.y = -Math.PI / 2;\n        this.scene.add(left);\n\n        var back = this.createTexturedPlane(size, texture_back);\n        back.position.z = -size / 2;\n        back.rotation.y = Math.PI;\n        this.scene.add(back);\n\n        var bottom = this.createTexturedPlane(size, texture_bottom);\n        bottom.position.y = -size / 2;\n        bottom.rotation.x = Math.PI / 2;\n        this.scene.add(bottom);\n\n        var shadow = this.createTexturedPlane(size + 4, texture_shadow, false);\n        shadow.position.y = -size / 2 - 1;\n        shadow.rotation.x = -Math.PI / 2;\n        this.scene.add(shadow);\n\n        this.controllers = new THREE.Object3D();\n\n        //FRONT,TOP,RIGHT\n        var c0 = this.createCornerCube(size, 1, 1, 1);\n        c0.name = 'c0';\n        this.controllers.add(c0);\n\n        //FRONT,BOTTOM,RIGHT\n        var c1 = this.createCornerCube(size, 1, -1, 1);\n        c1.name = 'c1';\n        this.controllers.add(c1);\n\n        //FRONT,BOTTOM,lEFT\n        var c2 = this.createCornerCube(size, -1, -1, 1);\n        c2.name = 'c2';\n        this.controllers.add(c2);\n\n        //FRONT,TOP,lEFT\n        var c3 = this.createCornerCube(size, -1, 1, 1);\n        c3.name = 'c3';\n        this.controllers.add(c3);\n\n        //BACK,TOP,RIGHT\n        var c4 = this.createCornerCube(size, 1, 1, -1);\n        c4.name = 'c4';\n        this.controllers.add(c4);\n\n        //BACK,BOTTOM,RIGHT\n        var c5 = this.createCornerCube(size, 1, -1, -1);\n        c5.name = 'c5';\n        this.controllers.add(c5);\n\n        //BACK,BOTTOM,LEFT\n        var c6 = this.createCornerCube(size, -1, -1, -1);\n        c6.name = 'c6';\n        this.controllers.add(c6);\n\n        //BACK,TOP,LEFT\n        var c7 = this.createCornerCube(size, -1, 1, -1);\n        c7.name = 'c7';\n        this.controllers.add(c7);\n\n        //TOP,FRONT\n        var e0 = this.createEdgeCube(size, 0, 1, 1);\n        e0.name = 'e0';\n        this.controllers.add(e0);\n\n        //TOP,BOTTOM\n        var e1 = this.createEdgeCube(size, 0, -1, 1);\n        e1.name = 'e1';\n        this.controllers.add(e1);\n\n        //TOP,BACK\n        var e2 = this.createEdgeCube(size, 0, 1, -1);\n        e2.name = 'e2';\n        this.controllers.add(e2);\n\n        //BOTTOM,BACK\n        var e3 = this.createEdgeCube(size, 0, -1, -1);\n        e3.name = 'e3';\n        this.controllers.add(e3);\n\n        //FRONT,RIGHT\n        var e4 = this.createEdgeCube(size, 1, 0, 1);\n        e4.name = 'e4';\n        this.controllers.add(e4);\n\n        //FRONT,LEFT\n        var e5 = this.createEdgeCube(size, -1, 0, 1);\n        e5.name = 'e5';\n        this.controllers.add(e5);\n\n        //BACK,LEFT\n        var e6 = this.createEdgeCube(size, 1, 0, -1);\n        e6.name = 'e6';\n        this.controllers.add(e6);\n\n        //BACK,LEFT\n        var e7 = this.createEdgeCube(size, -1, 0, -1);\n        e7.name = 'e7';\n        this.controllers.add(e7);\n\n        //BACK,LEFT\n        var e8 = this.createEdgeCube(size, 1, 1, 0);\n        e8.name = 'e8';\n        this.controllers.add(e8);\n\n        //TOP,RIGHT\n        var e9 = this.createEdgeCube(size, -1, 1, 0);\n        e9.name = 'e9';\n        this.controllers.add(e9);\n\n        //BOTTOM,RIGHT\n        var e10 = this.createEdgeCube(size, 1, -1, 0);\n        e10.name = 'e10';\n        this.controllers.add(e10);\n\n        //BOTTOM,LEFT\n        var e11 = this.createEdgeCube(size, -1, -1, 0);\n        e11.name = 'e11';\n        this.controllers.add(e11);\n\n        //RIGHT\n        var f0 = this.createFaceCube(size, 1, 0, 0);\n        f0.name = 'f0';\n        this.controllers.add(f0);\n\n        //TOP\n        var f1 = this.createFaceCube(size, 0, 1, 0);\n        f1.name = 'f1';\n        this.controllers.add(f1);\n\n        //FRONT\n        var f2 = this.createFaceCube(size, 0, 0, 1);\n        f2.name = 'f2';\n        this.controllers.add(f2);\n\n        //LEFT\n        var f3 = this.createFaceCube(size, -1, 0, 0);\n        f3.name = 'f3';\n        this.controllers.add(f3);\n\n        //BOTTOM\n        var f4 = this.createFaceCube(size, 0, -1, 0);\n        f4.name = 'f4';\n        this.controllers.add(f4);\n\n        //BACK\n        var f5 = this.createFaceCube(size, 0, 0, -1);\n        f5.name = 'f5';\n        this.controllers.add(f5);\n\n        this.scene.add(this.controllers);\n    }\n\n    createTexturedPlane = (size, texturePath, side = THREE.DoubleSide) => {\n        var texture = new THREE.TextureLoader().load(texturePath);\n        var material = new THREE.MeshBasicMaterial({ map: texture, transparent: false, visible: true, side });\n        var geometry = new THREE.PlaneGeometry(size, size);\n        var mesh = new THREE.Mesh(geometry, material);\n        return mesh;\n    }\n\n    createFaceCube(size, x, y, z) {\n        var c_cube = size / 4; //corner cubes\n        var sizex = c_cube;\n        var sizey = c_cube;\n        var sizez = c_cube;\n\n        if (x == 0) {\n            sizey = size / 2;\n            sizez = size / 2;\n        }\n        if (y == 0) {\n            sizex = size / 2;\n            sizez = size / 2;\n        }\n        if (z == 0) {\n            sizex = size / 2;\n            sizey = size / 2;\n        }\n\n        var _x = x * 1.01;\n        var _y = y * 1.01;\n        var _z = z * 1.01;\n\n        var material = new THREE.MeshBasicMaterial({ color: this.hoverColor, transparent: true, opacity: 0.5, visible: false }); //change to false later\n        var geometry = new THREE.BoxGeometry(sizex, sizey, sizez);\n\n        var edgeCube = new THREE.Mesh(geometry, material);\n\n        if (x > 0) {\n            edgeCube.position.x = (size / 2) * _x - sizex / 2;\n        } else {\n            edgeCube.position.x = x == 0 ? 0 : (size / 2) * _x + sizex / 2;\n        }\n\n        if (y > 0) {\n            edgeCube.position.y = (size / 2) * _y - sizey / 2;\n        } else {\n            edgeCube.position.y = y == 0 ? 0 : (size / 2) * _y + sizey / 2;\n        }\n\n        if (z > 0) {\n            edgeCube.position.z = (size / 2) * _z - sizez / 2;\n        } else {\n            edgeCube.position.z = z == 0 ? 0 : (size / 2) * _z + sizez / 2;\n        }\n\n        return edgeCube;\n    }\n\n    createEdgeCube(size, x, y, z) {\n        var c_cube = size / 4; //corner cubes\n        var sizex = c_cube;\n        var sizey = c_cube;\n        var sizez = c_cube;\n\n        if (x == 0) {\n            sizex = size / 2;\n        }\n        if (y == 0) {\n            sizey = size / 2;\n        }\n        if (z == 0) {\n            sizez = size / 2;\n        }\n        var _x = x * 1.01;\n        var _y = y * 1.01;\n        var _z = z * 1.01;\n\n        var c_cube = size / 4; //corner cubes\n        //*creating small cubs\n        var material = new THREE.MeshBasicMaterial({ color: this.hoverColor, transparent: true, opacity: 0.5, visible: false }); //change to false later\n        var geometry = new THREE.BoxGeometry(sizex, sizey, sizez);\n        //this._createdOutlineCube(edgeCube);\n        var edgeCube = new THREE.Mesh(geometry, material);\n        if (x > 0) {\n            edgeCube.position.x = (size / 2) * _x - sizex / 2;\n        } else {\n            edgeCube.position.x = x == 0 ? 0 : (size / 2) * _x + sizex / 2;\n        }\n\n        if (y > 0) {\n            edgeCube.position.y = (size / 2) * _y - sizey / 2;\n        } else {\n            edgeCube.position.y = y == 0 ? 0 : (size / 2) * _y + sizey / 2;\n        }\n\n        if (z > 0) {\n            edgeCube.position.z = (size / 2) * _z - sizez / 2;\n        } else {\n            edgeCube.position.z = z == 0 ? 0 : (size / 2) * _z + sizez / 2;\n        }\n\n        return edgeCube;\n    }\n\n    createCornerCube(size, x, y, z) {\n        var _x = x * 1.01;\n        var _y = y * 1.01;\n        var _z = z * 1.01;\n        var c_cube = size / 4; //corner cubes\n        //*creating small cubs\n        var material = new THREE.MeshBasicMaterial({ color: this.hoverColor, transparent: true, opacity: 0.5, visible: false });\n        var geometry = new THREE.BoxGeometry(c_cube, c_cube, c_cube);\n\n        var cornerCube = new THREE.Mesh(geometry, material);\n        if (x > 0) {\n            cornerCube.position.x = (size / 2) * _x - c_cube / 2;\n        } else {\n            cornerCube.position.x = (size / 2) * _x + c_cube / 2;\n        }\n        if (y > 0) {\n            cornerCube.position.y = (size / 2) * _y - c_cube / 2;\n        } else {\n            cornerCube.position.y = (size / 2) * _y + c_cube / 2;\n        }\n        if (z > 0) {\n            cornerCube.position.z = (size / 2) * _z - c_cube / 2;\n        } else {\n            cornerCube.position.z = (size / 2) * _z + c_cube / 2;\n        }\n        return cornerCube;\n    }\n\n    setViewAngle = (name) => {\n        var phi, theta;\n\n        switch (name) {\n            //Faces\n            case 'f0': //RIGHT\n                phi = Math.PI * 0.5;\n                theta = Math.PI * 0.5;\n                break;\n            case 'f1': //TOP\n                phi = 0;\n                theta = 0;\n                break;\n            case 'f2': //FRONT\n                phi = Math.PI * 0.5;\n                theta = 0;\n                break;\n            case 'f3': //LEFT\n                phi = Math.PI * 0.5;\n                theta = -Math.PI * 0.5;\n                break;\n            case 'f4': //BOTTOM\n                phi = Math.PI;\n                theta = 0;\n                break;\n            case 'f5': //BACK\n                phi = Math.PI * 0.5;\n                theta = Math.PI;\n                break;\n            //corners\n            case 'c0': //FRONT,TOP,RIGHT\n                phi = Math.PI * 0.25;\n                theta = Math.PI * 0.25;\n                break;\n            case 'c1': //FRONT,BOTTOM, RIGHT\n                phi = Math.PI * 0.75;\n                theta = Math.PI * 0.25;\n                break;\n            case 'c2': //FRONT,BOTTOM,lEFT\n                phi = Math.PI * 0.75;\n                theta = -Math.PI * 0.25;\n                break;\n            case 'c3': //FRONT,TOP,lEFT\n                phi = Math.PI * 0.25;\n                theta = -Math.PI * 0.25;\n                break;\n            case 'c4': //BACK,TOP,RIGHT\n                phi = Math.PI * 0.25;\n                theta = Math.PI * 0.75;\n                break;\n            case 'c5': //BACK,BOTTOM,RIGHT\n                phi = Math.PI * 0.75;\n                theta = Math.PI * 0.75;\n                break;\n            case 'c6': //BACK,BOTTOM,LEFT\n                phi = Math.PI * 0.75;\n                theta = -Math.PI * 0.75;\n                break;\n            case 'c7': //BACK,TOP,LEFT\n                phi = Math.PI * 0.25;\n                theta = -Math.PI * 0.75;\n                break;\n            //Edges\n            case 'e0': //TOP,FRONT\n                phi = Math.PI * 0.25;\n                theta = 0;\n                break;\n            case 'e1': //TOP,BOTTOM\n                phi = Math.PI * 0.75;\n                theta = 0;\n                break;\n            case 'e2': //TOP,BACK\n                phi = Math.PI * 0.25;\n                theta = Math.PI;\n                break;\n            case 'e3': //BOTTOM,BACK\n                phi = Math.PI * 0.75;\n                theta = Math.PI;\n                break;\n            case 'e4': //FRONT,RIGHT\n                phi = Math.PI * 0.5;\n                theta = Math.PI * 0.25;\n                break;\n            case 'e5': //FRONT,LEFT\n                phi = Math.PI * 0.5;\n                theta = -Math.PI * 0.25;\n                break;\n            case 'e6': //BACK,RIGHT\n                phi = Math.PI * 0.5;\n                theta = Math.PI * 0.75;\n                break;\n            case 'e7': //BACK,LEFT\n                phi = Math.PI * 0.5;\n                theta = -Math.PI * 0.75;\n                break;\n            case 'e8': //BACK,LEFT\n                phi = Math.PI * 0.25;\n                theta = Math.PI * 0.5;\n                break;\n            case 'e9': //TOP,RIGHT\n                phi = Math.PI * 0.25;\n                theta = -Math.PI * 0.5;\n                break;\n            case 'e10': //BOTTOM,RIGHT\n                phi = Math.PI * 0.75;\n                theta = Math.PI * 0.5;\n                break;\n\n            case 'e11': //BOTTOM,LEFT\n                phi = Math.PI * 0.75;\n                theta = -Math.PI * 0.5;\n                break;\n            default:\n        }\n\n        if (this.externalControls) {\n            let original = this.externalControls.getAngles();\n\n            var coords = { x: original.phi, y: original.theta };\n\n            let update = this.UpdateAngles;\n\n            // console.log(\"coords---\", coords);\n            var tween = new TWEEN.Tween(coords) // Create a new tween that modifies 'coords'.\n                .to({ x: phi, y: theta }, 500) // Move to (300, 200) in 1 second.\n                .easing(TWEEN.Easing.Quadratic.Out) // Use an easing function to make the animation smooth.\n                .onUpdate(function () {\n                    //console.log(\"coords\", coords);\n                    update(coords.x, coords.y);\n                })\n                .start(); // Start the tween immediately.\n\n            // this.externalControls.setPolarAngle(phi);\n            // this.externalControls.setAzimuthalAngle(theta);\n            // this.externalControls.update();\n\n        }\n    }\n\n    UpdateAngles = (phi, theta) => {\n        this.externalControls.setPolarAngle(phi);\n        this.externalControls.setAzimuthalAngle(theta);\n        this.externalControls.update();\n    }\n}","/**\n * @author arodic / https://github.com/arodic\n * @author lucascassiano / https://github.com/lucascassiano \n * --added custom styled gizmos\n */\n\nmodule.exports = function () {\n    const THREE = require(\"three\");\n\n    var TransformControls = function (camera, domElement) {\n\n        THREE.Object3D.call(this);\n\n        domElement = (domElement !== undefined) ? domElement : document;\n\n        this.visible = false;\n\n        var _gizmo = new TransformControlsGizmo();\n        this.add(_gizmo);\n\n        var _plane = new TransformControlsPlane();\n        this.add(_plane);\n\n        var scope = this;\n\n        // Define properties with getters/setter\n        // Setting the defined property will automatically trigger change event\n        // Defined properties are passed down to gizmo and plane\n\n        defineProperty(\"camera\", camera);\n        defineProperty(\"object\", undefined);\n        defineProperty(\"enabled\", true);\n        defineProperty(\"axis\", null);\n        defineProperty(\"mode\", \"translate\");\n        defineProperty(\"translationSnap\", null);\n        defineProperty(\"rotationSnap\", null);\n        defineProperty(\"space\", \"world\");\n        defineProperty(\"size\", 1);\n        defineProperty(\"dragging\", false);\n        defineProperty(\"showX\", true);\n        defineProperty(\"showY\", true);\n        defineProperty(\"showZ\", true);\n\n        var changeEvent = { type: \"change\" };\n        var mouseDownEvent = { type: \"mouseDown\" };\n        var mouseUpEvent = { type: \"mouseUp\", mode: scope.mode };\n        var objectChangeEvent = { type: \"objectChange\" };\n\n        // Reusable utility variables\n\n        var ray = new THREE.Raycaster();\n\n        var _tempVector = new THREE.Vector3();\n        var _tempVector2 = new THREE.Vector3();\n        var _tempQuaternion = new THREE.Quaternion();\n        var _unit = {\n            X: new THREE.Vector3(1, 0, 0),\n            Y: new THREE.Vector3(0, 1, 0),\n            Z: new THREE.Vector3(0, 0, 1)\n        };\n        var _identityQuaternion = new THREE.Quaternion();\n        var _alignVector = new THREE.Vector3();\n\n        var pointStart = new THREE.Vector3();\n        var pointEnd = new THREE.Vector3();\n        var rotationAxis = new THREE.Vector3();\n        var rotationAngle = 0;\n\n        var cameraPosition = new THREE.Vector3();\n        var cameraQuaternion = new THREE.Quaternion();\n        var cameraScale = new THREE.Vector3();\n\n        var parentPosition = new THREE.Vector3();\n        var parentQuaternion = new THREE.Quaternion();\n        var parentScale = new THREE.Vector3();\n\n        var worldPositionStart = new THREE.Vector3();\n        var worldQuaternionStart = new THREE.Quaternion();\n        var worldScaleStart = new THREE.Vector3();\n\n        var worldPosition = new THREE.Vector3();\n        var worldQuaternion = new THREE.Quaternion();\n        var worldScale = new THREE.Vector3();\n\n        var eye = new THREE.Vector3();\n\n        var _positionStart = new THREE.Vector3();\n        var _quaternionStart = new THREE.Quaternion();\n        var _scaleStart = new THREE.Vector3();\n\n        // TODO: remove properties unused in plane and gizmo\n\n        defineProperty(\"parentQuaternion\", parentQuaternion);\n        defineProperty(\"worldPosition\", worldPosition);\n        defineProperty(\"worldPositionStart\", worldPositionStart);\n        defineProperty(\"worldQuaternion\", worldQuaternion);\n        defineProperty(\"worldQuaternionStart\", worldQuaternionStart);\n        defineProperty(\"cameraPosition\", cameraPosition);\n        defineProperty(\"cameraQuaternion\", cameraQuaternion);\n        defineProperty(\"pointStart\", pointStart);\n        defineProperty(\"pointEnd\", pointEnd);\n        defineProperty(\"rotationAxis\", rotationAxis);\n        defineProperty(\"rotationAngle\", rotationAngle);\n        defineProperty(\"eye\", eye);\n\n        {\n\n            domElement.addEventListener(\"mousedown\", onPointerDown, false);\n            domElement.addEventListener(\"touchstart\", onPointerDown, false);\n            domElement.addEventListener(\"mousemove\", onPointerHover, false);\n            domElement.addEventListener(\"touchmove\", onPointerHover, false);\n            document.addEventListener(\"mousemove\", onPointerMove, false);\n            domElement.addEventListener(\"touchmove\", onPointerMove, false);\n            document.addEventListener(\"mouseup\", onPointerUp, false);\n            domElement.addEventListener(\"touchend\", onPointerUp, false);\n            domElement.addEventListener(\"touchcancel\", onPointerUp, false);\n            domElement.addEventListener(\"touchleave\", onPointerUp, false);\n            domElement.addEventListener(\"contextmenu\", onContext, false);\n\n        }\n\n        this.dispose = function () {\n\n            domElement.removeEventListener(\"mousedown\", onPointerDown);\n            domElement.removeEventListener(\"touchstart\", onPointerDown);\n            domElement.removeEventListener(\"mousemove\", onPointerHover);\n            domElement.removeEventListener(\"touchmove\", onPointerHover);\n            document.removeEventListener(\"mousemove\", onPointerMove);\n            domElement.removeEventListener(\"touchmove\", onPointerMove);\n            document.removeEventListener(\"mouseup\", onPointerUp);\n            domElement.removeEventListener(\"touchend\", onPointerUp);\n            domElement.removeEventListener(\"touchcancel\", onPointerUp);\n            domElement.removeEventListener(\"touchleave\", onPointerUp);\n            domElement.removeEventListener(\"contextmenu\", onContext);\n\n        };\n\n        // Set current object\n        this.attach = function (object) {\n\n            this.object = object;\n            this.visible = true;\n\n        };\n\n        // Detatch from object\n        this.detach = function () {\n\n            this.object = undefined;\n            this.visible = false;\n            this.axis = null;\n\n        };\n\n        // Defined getter, setter and store for a property\n        function defineProperty(propName, defaultValue) {\n\n            var propValue = defaultValue;\n\n            Object.defineProperty(scope, propName, {\n\n                get: function () {\n\n                    return propValue !== undefined ? propValue : defaultValue;\n\n                },\n\n                set: function (value) {\n\n                    if (propValue !== value) {\n\n                        propValue = value;\n                        _plane[propName] = value;\n                        _gizmo[propName] = value;\n\n                        scope.dispatchEvent({ type: propName + \"-changed\", value: value });\n                        scope.dispatchEvent(changeEvent);\n\n                    }\n\n                }\n\n            });\n\n            scope[propName] = defaultValue;\n            _plane[propName] = defaultValue;\n            _gizmo[propName] = defaultValue;\n\n        }\n\n        // updateMatrixWorld  updates key transformation variables\n        this.updateMatrixWorld = function () {\n\n            if (this.object !== undefined) {\n\n                this.object.updateMatrixWorld();\n                this.object.parent.matrixWorld.decompose(parentPosition, parentQuaternion, parentScale);\n                this.object.matrixWorld.decompose(worldPosition, worldQuaternion, worldScale);\n\n            }\n\n            this.camera.updateMatrixWorld();\n            this.camera.matrixWorld.decompose(cameraPosition, cameraQuaternion, cameraScale);\n\n            if (this.camera instanceof THREE.PerspectiveCamera) {\n\n                eye.copy(cameraPosition).sub(worldPosition).normalize();\n\n            } else if (this.camera instanceof THREE.OrthographicCamera) {\n\n                eye.copy(cameraPosition).normalize();\n\n            }\n\n            THREE.Object3D.prototype.updateMatrixWorld.call(this);\n\n        };\n\n        this.pointerHover = function (pointer) {\n\n            if (this.object === undefined || this.dragging === true || (pointer.button !== undefined && pointer.button !== 0)) return;\n\n            ray.setFromCamera(pointer, this.camera);\n\n            var intersect = ray.intersectObjects(_gizmo.picker[this.mode].children, true)[0] || false;\n\n            if (intersect) {\n\n                this.axis = intersect.object.name;\n\n            } else {\n\n                this.axis = null;\n\n            }\n\n        };\n\n        this.pointerDown = function (pointer) {\n\n            if (this.object === undefined || this.dragging === true || (pointer.button !== undefined && pointer.button !== 0)) return;\n\n            if ((pointer.button === 0 || pointer.button === undefined) && this.axis !== null) {\n\n                ray.setFromCamera(pointer, this.camera);\n\n                var planeIntersect = ray.intersectObjects([_plane], true)[0] || false;\n\n                if (planeIntersect) {\n\n                    var space = this.space;\n\n                    if (this.mode === 'scale') {\n\n                        space = 'local';\n\n                    } else if (this.axis === 'E' || this.axis === 'XYZE' || this.axis === 'XYZ') {\n\n                        space = 'world';\n\n                    }\n\n                    if (space === 'local' && this.mode === 'rotate') {\n\n                        var snap = this.rotationSnap;\n\n                        if (this.axis === 'X' && snap) this.object.rotation.x = Math.round(this.object.rotation.x / snap) * snap;\n                        if (this.axis === 'Y' && snap) this.object.rotation.y = Math.round(this.object.rotation.y / snap) * snap;\n                        if (this.axis === 'Z' && snap) this.object.rotation.z = Math.round(this.object.rotation.z / snap) * snap;\n\n                    }\n\n                    this.object.updateMatrixWorld();\n                    this.object.parent.updateMatrixWorld();\n\n                    _positionStart.copy(this.object.position);\n                    _quaternionStart.copy(this.object.quaternion);\n                    _scaleStart.copy(this.object.scale);\n\n                    this.object.matrixWorld.decompose(worldPositionStart, worldQuaternionStart, worldScaleStart);\n\n                    pointStart.copy(planeIntersect.point).sub(worldPositionStart);\n\n                    if (space === 'local') pointStart.applyQuaternion(worldQuaternionStart.clone().inverse());\n\n                }\n\n                this.dragging = true;\n                mouseDownEvent.mode = this.mode;\n                this.dispatchEvent(mouseDownEvent);\n\n            }\n\n        };\n\n        this.pointerMove = function (pointer) {\n\n            var axis = this.axis;\n            var mode = this.mode;\n            var object = this.object;\n            var space = this.space;\n\n            if (mode === 'scale') {\n\n                space = 'local';\n\n            } else if (axis === 'E' || axis === 'XYZE' || axis === 'XYZ') {\n\n                space = 'world';\n\n            }\n\n            if (object === undefined || axis === null || this.dragging === false || (pointer.button !== undefined && pointer.button !== 0)) return;\n\n            ray.setFromCamera(pointer, this.camera);\n\n            var planeIntersect = ray.intersectObjects([_plane], true)[0] || false;\n\n            if (planeIntersect === false) return;\n\n            pointEnd.copy(planeIntersect.point).sub(worldPositionStart);\n\n            if (space === 'local') pointEnd.applyQuaternion(worldQuaternionStart.clone().inverse());\n\n            if (mode === 'translate') {\n\n                if (axis.search('X') === -1) {\n                    pointEnd.x = pointStart.x;\n                }\n                if (axis.search('Y') === -1) {\n                    pointEnd.y = pointStart.y;\n                }\n                if (axis.search('Z') === -1) {\n                    pointEnd.z = pointStart.z;\n                }\n\n                // Apply translate\n\n                if (space === 'local') {\n                    object.position.copy(pointEnd).sub(pointStart).applyQuaternion(_quaternionStart);\n                } else {\n                    object.position.copy(pointEnd).sub(pointStart);\n                }\n\n                object.position.add(_positionStart);\n\n                // Apply translation snap\n\n                if (this.translationSnap) {\n\n                    if (space === 'local') {\n\n                        object.position.applyQuaternion(_tempQuaternion.copy(_quaternionStart).inverse());\n\n                        if (axis.search('X') !== -1) {\n                            object.position.x = Math.round(object.position.x / this.translationSnap) * this.translationSnap;\n                        }\n\n                        if (axis.search('Y') !== -1) {\n                            object.position.y = Math.round(object.position.y / this.translationSnap) * this.translationSnap;\n                        }\n\n                        if (axis.search('Z') !== -1) {\n                            object.position.z = Math.round(object.position.z / this.translationSnap) * this.translationSnap;\n                        }\n\n                        object.position.applyQuaternion(_quaternionStart);\n\n                    }\n\n                    if (space === 'world') {\n\n                        if (object.parent) {\n                            object.position.add(_tempVector.setFromMatrixPosition(object.parent.matrixWorld));\n                        }\n\n                        if (axis.search('X') !== -1) {\n                            object.position.x = Math.round(object.position.x / this.translationSnap) * this.translationSnap;\n                        }\n\n                        if (axis.search('Y') !== -1) {\n                            object.position.y = Math.round(object.position.y / this.translationSnap) * this.translationSnap;\n                        }\n\n                        if (axis.search('Z') !== -1) {\n                            object.position.z = Math.round(object.position.z / this.translationSnap) * this.translationSnap;\n                        }\n\n                        if (object.parent) {\n                            object.position.sub(_tempVector.setFromMatrixPosition(object.parent.matrixWorld));\n                        }\n\n                    }\n\n                }\n\n            } else if (mode === 'scale') {\n\n                if (axis.search('XYZ') !== -1) {\n\n                    var d = pointEnd.length() / pointStart.length();\n\n                    if (pointEnd.dot(pointStart) < 0) d *= -1;\n\n                    _tempVector.set(d, d, d);\n\n                } else {\n\n                    _tempVector.copy(pointEnd).divide(pointStart);\n\n                    if (axis.search('X') === -1) {\n                        _tempVector.x = 1;\n                    }\n                    if (axis.search('Y') === -1) {\n                        _tempVector.y = 1;\n                    }\n                    if (axis.search('Z') === -1) {\n                        _tempVector.z = 1;\n                    }\n\n                }\n\n                // Apply scale\n\n                object.scale.copy(_scaleStart).multiply(_tempVector);\n\n            } else if (mode === 'rotate') {\n\n                var ROTATION_SPEED = 20 / worldPosition.distanceTo(_tempVector.setFromMatrixPosition(this.camera.matrixWorld));\n\n                var quaternion = this.space === \"local\" ? worldQuaternion : _identityQuaternion;\n\n                var unit = _unit[axis];\n\n                if (axis === 'E') {\n\n                    _tempVector.copy(pointEnd).cross(pointStart);\n                    rotationAxis.copy(eye);\n                    rotationAngle = pointEnd.angleTo(pointStart) * (_tempVector.dot(eye) < 0 ? 1 : -1);\n\n                } else if (axis === 'XYZE') {\n\n                    _tempVector.copy(pointEnd).sub(pointStart).cross(eye).normalize();\n                    rotationAxis.copy(_tempVector);\n                    rotationAngle = pointEnd.sub(pointStart).dot(_tempVector.cross(eye)) * ROTATION_SPEED;\n\n                } else if (axis === 'X' || axis === 'Y' || axis === 'Z') {\n\n                    _alignVector.copy(unit).applyQuaternion(quaternion);\n\n                    rotationAxis.copy(unit);\n\n                    _tempVector = unit.clone();\n                    _tempVector2 = pointEnd.clone().sub(pointStart);\n                    if (space === 'local') {\n                        _tempVector.applyQuaternion(quaternion);\n                        _tempVector2.applyQuaternion(worldQuaternionStart);\n                    }\n                    rotationAngle = _tempVector2.dot(_tempVector.cross(eye).normalize()) * ROTATION_SPEED;\n\n                }\n\n                // Apply rotation snap\n\n                if (this.rotationSnap) rotationAngle = Math.round(rotationAngle / this.rotationSnap) * this.rotationSnap;\n\n                this.rotationAngle = rotationAngle;\n\n                // Apply rotate\n\n                if (space === 'local') {\n\n                    object.quaternion.copy(_quaternionStart);\n                    object.quaternion.multiply(_tempQuaternion.setFromAxisAngle(rotationAxis, rotationAngle));\n\n                } else {\n\n                    object.quaternion.copy(_tempQuaternion.setFromAxisAngle(rotationAxis, rotationAngle));\n                    object.quaternion.multiply(_quaternionStart);\n\n                }\n\n            }\n\n            this.dispatchEvent(changeEvent);\n            this.dispatchEvent(objectChangeEvent);\n\n        };\n\n        this.pointerUp = function (pointer) {\n\n            if (pointer.button !== undefined && pointer.button !== 0) return;\n\n            if (this.dragging && (this.axis !== null)) {\n\n                mouseUpEvent.mode = this.mode;\n                this.dispatchEvent(mouseUpEvent);\n\n            }\n\n            this.dragging = false;\n\n            if (pointer.button === undefined) this.axis = null;\n\n        };\n\n        // normalize mouse / touch pointer and remap {x,y} to view space.\n\n        function getPointer(event) {\n\n            var pointer = event.changedTouches ? event.changedTouches[0] : event;\n\n            var rect = domElement.getBoundingClientRect();\n\n            return {\n                x: (pointer.clientX - rect.left) / rect.width * 2 - 1,\n                y: - (pointer.clientY - rect.top) / rect.height * 2 + 1,\n                button: event.button\n            };\n\n        }\n\n        // mouse / touch event handlers\n\n        function onContext(event) {\n\n            event.preventDefault();\n\n        }\n\n        function onPointerHover(event) {\n\n            if (!scope.enabled) return;\n\n            scope.pointerHover(getPointer(event));\n\n        }\n\n        function onPointerDown(event) {\n\n            if (!scope.enabled) return;\n\n            event.preventDefault();\n\n            scope.pointerHover(getPointer(event));\n            scope.pointerDown(getPointer(event));\n            //scope.dispatchEvent(mouseDownEvent);\n\n        }\n\n        function onPointerMove(event) {\n\n            if (!scope.enabled) return;\n\n            event.preventDefault();\n\n            scope.pointerMove(getPointer(event));\n\n        }\n\n        function onPointerUp(event) {\n\n            if (!scope.enabled) return;\n\n            event.preventDefault(); // Prevent MouseEvent on mobile\n\n            scope.pointerUp(getPointer(event));\n\n        }\n\n        // TODO: depricate\n\n        this.getMode = function () {\n\n            return scope.mode;\n\n        };\n\n        this.setMode = function (mode) {\n\n            scope.mode = mode;\n\n        };\n\n        this.setTranslationSnap = function (translationSnap) {\n\n            scope.translationSnap = translationSnap;\n\n        };\n\n        this.setRotationSnap = function (rotationSnap) {\n\n            scope.rotationSnap = rotationSnap;\n\n        };\n\n        this.setSize = function (size) {\n\n            scope.size = size;\n\n        };\n\n        this.setSpace = function (space) {\n\n            scope.space = space;\n\n        };\n\n        this.update = function () {\n\n            console.warn('THREE.TransformControls: update function has been depricated.');\n\n        };\n\n    };\n\n    TransformControls.prototype = Object.assign(Object.create(THREE.Object3D.prototype), {\n\n        constructor: TransformControls,\n\n        isTransformControls: true\n\n    });\n\n\n    var TransformControlsGizmo = function () {\n\n        'use strict';\n\n        THREE.Object3D.call(this);\n\n        this.type = 'TransformControlsGizmo';\n\n        // shared materials\n\n        var gizmoMaterial = new THREE.MeshBasicMaterial({\n            depthTest: false,\n            depthWrite: false,\n            transparent: true,\n            side: THREE.DoubleSide,\n            fog: false\n        });\n\n        var gizmoLineMaterial = new THREE.LineBasicMaterial({\n            depthTest: false,\n            depthWrite: false,\n            transparent: true,\n            linewidth: 1,\n            fog: false\n        });\n\n        // Make unique material for each axis/color\n\n        var matInvisible = gizmoMaterial.clone();\n        matInvisible.opacity = 0.15;\n\n        var matHelper = gizmoMaterial.clone();\n        matHelper.opacity = 0.33;\n\n        var matRed = gizmoMaterial.clone();\n        matRed.color.set(0xff0000);\n\n        var matGreen = gizmoMaterial.clone();\n        matGreen.color.set(0x00ff00);\n\n        var matBlue = gizmoMaterial.clone();\n        matBlue.color.set(0x0000ff);\n\n        var matWhiteTransperent = gizmoMaterial.clone();\n        matWhiteTransperent.opacity = 0.25;\n\n        var matYellowTransparent = matWhiteTransperent.clone();\n        matYellowTransparent.color.set(0xffff00);\n\n        var matCyanTransparent = matWhiteTransperent.clone();\n        matCyanTransparent.color.set(0x00ffff);\n\n        var matMagentaTransparent = matWhiteTransperent.clone();\n        matMagentaTransparent.color.set(0xff00ff);\n\n        var matYellow = gizmoMaterial.clone();\n        matYellow.color.set(0xffff00);\n\n        var matLineRed = gizmoLineMaterial.clone();\n        matLineRed.color.set(0xff0000);\n\n        var matLineGreen = gizmoLineMaterial.clone();\n        matLineGreen.color.set(0x00ff00);\n\n        var matLineBlue = gizmoLineMaterial.clone();\n        matLineBlue.color.set(0x0000ff);\n\n        var matLineCyan = gizmoLineMaterial.clone();\n        matLineCyan.color.set(0x00ffff);\n\n        var matLineMagenta = gizmoLineMaterial.clone();\n        matLineMagenta.color.set(0xff00ff);\n\n        var matLineYellow = gizmoLineMaterial.clone();\n        matLineYellow.color.set(0xffff00);\n\n        var matLineGray = gizmoLineMaterial.clone();\n        matLineGray.color.set(0x787878);\n\n        var matLineYellowTransparent = matLineYellow.clone();\n        matLineYellowTransparent.opacity = 0.25;\n\n        // reusable geometry\n\n        var arrowGeometry = new THREE.CylinderBufferGeometry(0, 0.05, 0.2, 12, 1, false);\n\n        var scaleHandleGeometry = new THREE.BoxBufferGeometry(0.125, 0.125, 0.125);\n\n        var lineGeometry = new THREE.BufferGeometry();\n        lineGeometry.addAttribute('position', new THREE.Float32BufferAttribute([0, 0, 0, 1, 0, 0], 3));\n\n        var CircleGeometry = function (radius, arc) {\n\n            var geometry = new THREE.BufferGeometry();\n            var vertices = [];\n\n            for (var i = 0; i <= 64 * arc; ++i) {\n\n                vertices.push(0, Math.cos(i / 32 * Math.PI) * radius, Math.sin(i / 32 * Math.PI) * radius);\n\n            }\n\n            geometry.addAttribute('position', new THREE.Float32BufferAttribute(vertices, 3));\n\n            return geometry;\n\n        };\n\n        // Special geometry for transform helper. If scaled with position vector it spans from [0,0,0] to position\n\n        var TranslateHelperGeometry = function (radius, arc) {\n\n            var geometry = new THREE.BufferGeometry()\n\n            geometry.addAttribute('position', new THREE.Float32BufferAttribute([0, 0, 0, 1, 1, 1], 3));\n\n            return geometry;\n\n        };\n\n        // Gizmo definitions - custom hierarchy definitions for setupGizmo() function\n\n        var gizmoTranslate = {\n            X: [\n                [new THREE.Mesh(arrowGeometry, matRed), [1, 0, 0], [0, 0, -Math.PI / 2], null, 'fwd'],\n                [new THREE.Mesh(arrowGeometry, matRed), [1, 0, 0], [0, 0, Math.PI / 2], null, 'bwd'],\n                [new THREE.Line(lineGeometry, matLineRed)]\n            ],\n            Y: [\n                [new THREE.Mesh(arrowGeometry, matGreen), [0, 1, 0], null, null, 'fwd'],\n                [new THREE.Mesh(arrowGeometry, matGreen), [0, 1, 0], [Math.PI, 0, 0], null, 'bwd'],\n                [new THREE.Line(lineGeometry, matLineGreen), null, [0, 0, Math.PI / 2]]\n            ],\n            Z: [\n                [new THREE.Mesh(arrowGeometry, matBlue), [0, 0, 1], [Math.PI / 2, 0, 0], null, 'fwd'],\n                [new THREE.Mesh(arrowGeometry, matBlue), [0, 0, 1], [-Math.PI / 2, 0, 0], null, 'bwd'],\n                [new THREE.Line(lineGeometry, matLineBlue), null, [0, -Math.PI / 2, 0]]\n            ],\n            XYZ: [\n                [new THREE.Mesh(new THREE.OctahedronBufferGeometry(0.1, 0), matWhiteTransperent), [0, 0, 0], [0, 0, 0]]\n            ],\n            XY: [\n                [new THREE.Mesh(new THREE.PlaneBufferGeometry(0.295, 0.295), matYellowTransparent), [0.15, 0.15, 0]],\n                [new THREE.Line(lineGeometry, matLineYellow), [0.18, 0.3, 0], null, [0.125, 1, 1]],\n                [new THREE.Line(lineGeometry, matLineYellow), [0.3, 0.18, 0], [0, 0, Math.PI / 2], [0.125, 1, 1]]\n            ],\n            YZ: [\n                [new THREE.Mesh(new THREE.PlaneBufferGeometry(0.295, 0.295), matCyanTransparent), [0, 0.15, 0.15], [0, Math.PI / 2, 0]],\n                [new THREE.Line(lineGeometry, matLineCyan), [0, 0.18, 0.3], [0, 0, Math.PI / 2], [0.125, 1, 1]],\n                [new THREE.Line(lineGeometry, matLineCyan), [0, 0.3, 0.18], [0, -Math.PI / 2, 0], [0.125, 1, 1]]\n            ],\n            XZ: [\n                [new THREE.Mesh(new THREE.PlaneBufferGeometry(0.295, 0.295), matMagentaTransparent), [0.15, 0, 0.15], [-Math.PI / 2, 0, 0]],\n                [new THREE.Line(lineGeometry, matLineMagenta), [0.18, 0, 0.3], null, [0.125, 1, 1]],\n                [new THREE.Line(lineGeometry, matLineMagenta), [0.3, 0, 0.18], [0, -Math.PI / 2, 0], [0.125, 1, 1]]\n            ]\n        };\n\n        var pickerTranslate = {\n            X: [\n                [new THREE.Mesh(new THREE.CylinderBufferGeometry(0.2, 0, 1, 4, 1, false), matInvisible), [0.6, 0, 0], [0, 0, -Math.PI / 2]]\n            ],\n            Y: [\n                [new THREE.Mesh(new THREE.CylinderBufferGeometry(0.2, 0, 1, 4, 1, false), matInvisible), [0, 0.6, 0]]\n            ],\n            Z: [\n                [new THREE.Mesh(new THREE.CylinderBufferGeometry(0.2, 0, 1, 4, 1, false), matInvisible), [0, 0, 0.6], [Math.PI / 2, 0, 0]]\n            ],\n            XYZ: [\n                [new THREE.Mesh(new THREE.OctahedronBufferGeometry(0.2, 0), matInvisible)]\n            ],\n            XY: [\n                [new THREE.Mesh(new THREE.PlaneBufferGeometry(0.4, 0.4), matInvisible), [0.2, 0.2, 0]]\n            ],\n            YZ: [\n                [new THREE.Mesh(new THREE.PlaneBufferGeometry(0.4, 0.4), matInvisible), [0, 0.2, 0.2], [0, Math.PI / 2, 0]]\n            ],\n            XZ: [\n                [new THREE.Mesh(new THREE.PlaneBufferGeometry(0.4, 0.4), matInvisible), [0.2, 0, 0.2], [-Math.PI / 2, 0, 0]]\n            ]\n        };\n\n        var helperTranslate = {\n            START: [\n                [new THREE.Mesh(new THREE.OctahedronBufferGeometry(0.01, 2), matHelper), null, null, null, 'helper']\n            ],\n            END: [\n                [new THREE.Mesh(new THREE.OctahedronBufferGeometry(0.01, 2), matHelper), null, null, null, 'helper']\n            ],\n            DELTA: [\n                [new THREE.Line(TranslateHelperGeometry(), matHelper), null, null, null, 'helper']\n            ],\n            X: [\n                [new THREE.Line(lineGeometry, matHelper.clone()), [-1e3, 0, 0], null, [1e6, 1, 1], 'helper']\n            ],\n            Y: [\n                [new THREE.Line(lineGeometry, matHelper.clone()), [0, -1e3, 0], [0, 0, Math.PI / 2], [1e6, 1, 1], 'helper']\n            ],\n            Z: [\n                [new THREE.Line(lineGeometry, matHelper.clone()), [0, 0, -1e3], [0, -Math.PI / 2, 0], [1e6, 1, 1], 'helper']\n            ]\n        };\n\n        var gizmoRotate = {\n            X: [\n                [new THREE.Line(CircleGeometry(1, 0.5), matLineRed)],\n                [new THREE.Mesh(new THREE.OctahedronBufferGeometry(0.04, 0), matRed), [0, 0, 0.99], null, [1, 3, 1]],\n            ],\n            Y: [\n                [new THREE.Line(CircleGeometry(1, 0.5), matLineGreen), null, [0, 0, -Math.PI / 2]],\n                [new THREE.Mesh(new THREE.OctahedronBufferGeometry(0.04, 0), matGreen), [0, 0, 0.99], null, [3, 1, 1]],\n            ],\n            Z: [\n                [new THREE.Line(CircleGeometry(1, 0.5), matLineBlue), null, [0, Math.PI / 2, 0]],\n                [new THREE.Mesh(new THREE.OctahedronBufferGeometry(0.04, 0), matBlue), [0.99, 0, 0], null, [1, 3, 1]],\n            ],\n            E: [\n                [new THREE.Line(CircleGeometry(1.25, 1), matLineYellowTransparent), null, [0, Math.PI / 2, 0]],\n                [new THREE.Mesh(new THREE.CylinderBufferGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent), [1.17, 0, 0], [0, 0, -Math.PI / 2], [1, 1, 0.001]],\n                [new THREE.Mesh(new THREE.CylinderBufferGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent), [-1.17, 0, 0], [0, 0, Math.PI / 2], [1, 1, 0.001]],\n                [new THREE.Mesh(new THREE.CylinderBufferGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent), [0, -1.17, 0], [Math.PI, 0, 0], [1, 1, 0.001]],\n                [new THREE.Mesh(new THREE.CylinderBufferGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent), [0, 1.17, 0], [0, 0, 0], [1, 1, 0.001]],\n            ],\n            XYZE: [\n                [new THREE.Line(CircleGeometry(1, 1), matLineGray), null, [0, Math.PI / 2, 0]]\n            ]\n        };\n\n        var helperRotate = {\n            AXIS: [\n                [new THREE.Line(lineGeometry, matHelper.clone()), [-1e3, 0, 0], null, [1e6, 1, 1], 'helper']\n            ]\n        };\n\n        var pickerRotate = {\n            X: [\n                [new THREE.Mesh(new THREE.TorusBufferGeometry(1, 0.1, 4, 24), matInvisible), [0, 0, 0], [0, -Math.PI / 2, -Math.PI / 2]],\n            ],\n            Y: [\n                [new THREE.Mesh(new THREE.TorusBufferGeometry(1, 0.1, 4, 24), matInvisible), [0, 0, 0], [Math.PI / 2, 0, 0]],\n            ],\n            Z: [\n                [new THREE.Mesh(new THREE.TorusBufferGeometry(1, 0.1, 4, 24), matInvisible), [0, 0, 0], [0, 0, -Math.PI / 2]],\n            ],\n            E: [\n                [new THREE.Mesh(new THREE.TorusBufferGeometry(1.25, 0.1, 2, 24), matInvisible)]\n            ],\n            XYZE: [\n                [new THREE.Mesh(new THREE.SphereBufferGeometry(0.7, 10, 8), matInvisible)]\n            ]\n        };\n\n        var gizmoScale = {\n            X: [\n                [new THREE.Mesh(scaleHandleGeometry, matRed), [0.8, 0, 0], [0, 0, -Math.PI / 2]],\n                [new THREE.Line(lineGeometry, matLineRed), null, null, [0.8, 1, 1]]\n            ],\n            Y: [\n                [new THREE.Mesh(scaleHandleGeometry, matGreen), [0, 0.8, 0]],\n                [new THREE.Line(lineGeometry, matLineGreen), null, [0, 0, Math.PI / 2], [0.8, 1, 1]]\n            ],\n            Z: [\n                [new THREE.Mesh(scaleHandleGeometry, matBlue), [0, 0, 0.8], [Math.PI / 2, 0, 0]],\n                [new THREE.Line(lineGeometry, matLineBlue), null, [0, -Math.PI / 2, 0], [0.8, 1, 1]]\n            ],\n            XY: [\n                [new THREE.Mesh(scaleHandleGeometry, matYellowTransparent), [0.85, 0.85, 0], null, [2, 2, 0.2]],\n                [new THREE.Line(lineGeometry, matLineYellow), [0.855, 0.98, 0], null, [0.125, 1, 1]],\n                [new THREE.Line(lineGeometry, matLineYellow), [0.98, 0.855, 0], [0, 0, Math.PI / 2], [0.125, 1, 1]]\n            ],\n            YZ: [\n                [new THREE.Mesh(scaleHandleGeometry, matCyanTransparent), [0, 0.85, 0.85], null, [0.2, 2, 2]],\n                [new THREE.Line(lineGeometry, matLineCyan), [0, 0.855, 0.98], [0, 0, Math.PI / 2], [0.125, 1, 1]],\n                [new THREE.Line(lineGeometry, matLineCyan), [0, 0.98, 0.855], [0, -Math.PI / 2, 0], [0.125, 1, 1]]\n            ],\n            XZ: [\n                [new THREE.Mesh(scaleHandleGeometry, matMagentaTransparent), [0.85, 0, 0.85], null, [2, 0.2, 2]],\n                [new THREE.Line(lineGeometry, matLineMagenta), [0.855, 0, 0.98], null, [0.125, 1, 1]],\n                [new THREE.Line(lineGeometry, matLineMagenta), [0.98, 0, 0.855], [0, -Math.PI / 2, 0], [0.125, 1, 1]]\n            ],\n            XYZX: [\n                [new THREE.Mesh(new THREE.BoxBufferGeometry(0.125, 0.125, 0.125), matWhiteTransperent), [1.1, 0, 0]],\n            ],\n            XYZY: [\n                [new THREE.Mesh(new THREE.BoxBufferGeometry(0.125, 0.125, 0.125), matWhiteTransperent), [0, 1.1, 0]],\n            ],\n            XYZZ: [\n                [new THREE.Mesh(new THREE.BoxBufferGeometry(0.125, 0.125, 0.125), matWhiteTransperent), [0, 0, 1.1]],\n            ]\n        };\n\n        var pickerScale = {\n            X: [\n                [new THREE.Mesh(new THREE.CylinderBufferGeometry(0.2, 0, 0.8, 4, 1, false), matInvisible), [0.5, 0, 0], [0, 0, -Math.PI / 2]]\n            ],\n            Y: [\n                [new THREE.Mesh(new THREE.CylinderBufferGeometry(0.2, 0, 0.8, 4, 1, false), matInvisible), [0, 0.5, 0]]\n            ],\n            Z: [\n                [new THREE.Mesh(new THREE.CylinderBufferGeometry(0.2, 0, 0.8, 4, 1, false), matInvisible), [0, 0, 0.5], [Math.PI / 2, 0, 0]]\n            ],\n            XY: [\n                [new THREE.Mesh(scaleHandleGeometry, matInvisible), [0.85, 0.85, 0], null, [3, 3, 0.2]],\n            ],\n            YZ: [\n                [new THREE.Mesh(scaleHandleGeometry, matInvisible), [0, 0.85, 0.85], null, [0.2, 3, 3]],\n            ],\n            XZ: [\n                [new THREE.Mesh(scaleHandleGeometry, matInvisible), [0.85, 0, 0.85], null, [3, 0.2, 3]],\n            ],\n            XYZX: [\n                [new THREE.Mesh(new THREE.BoxBufferGeometry(0.2, 0.2, 0.2), matInvisible), [1.1, 0, 0]],\n            ],\n            XYZY: [\n                [new THREE.Mesh(new THREE.BoxBufferGeometry(0.2, 0.2, 0.2), matInvisible), [0, 1.1, 0]],\n            ],\n            XYZZ: [\n                [new THREE.Mesh(new THREE.BoxBufferGeometry(0.2, 0.2, 0.2), matInvisible), [0, 0, 1.1]],\n            ]\n        };\n\n        var helperScale = {\n            X: [\n                [new THREE.Line(lineGeometry, matHelper.clone()), [-1e3, 0, 0], null, [1e6, 1, 1], 'helper']\n            ],\n            Y: [\n                [new THREE.Line(lineGeometry, matHelper.clone()), [0, -1e3, 0], [0, 0, Math.PI / 2], [1e6, 1, 1], 'helper']\n            ],\n            Z: [\n                [new THREE.Line(lineGeometry, matHelper.clone()), [0, 0, -1e3], [0, -Math.PI / 2, 0], [1e6, 1, 1], 'helper']\n            ]\n        };\n\n        // Creates an Object3D with gizmos described in custom hierarchy definition.\n\n        var setupGizmo = function (gizmoMap) {\n\n            var gizmo = new THREE.Object3D();\n\n            for (var name in gizmoMap) {\n\n                for (var i = gizmoMap[name].length; i--;) {\n\n                    var object = gizmoMap[name][i][0].clone();\n                    var position = gizmoMap[name][i][1];\n                    var rotation = gizmoMap[name][i][2];\n                    var scale = gizmoMap[name][i][3];\n                    var tag = gizmoMap[name][i][4];\n\n                    // name and tag properties are essential for picking and updating logic.\n                    object.name = name;\n                    object.tag = tag;\n\n                    if (position) {\n                        object.position.set(position[0], position[1], position[2]);\n                    }\n                    if (rotation) {\n                        object.rotation.set(rotation[0], rotation[1], rotation[2]);\n                    }\n                    if (scale) {\n                        object.scale.set(scale[0], scale[1], scale[2]);\n                    }\n\n                    object.updateMatrix();\n\n                    var tempGeometry = object.geometry.clone();\n                    tempGeometry.applyMatrix(object.matrix);\n                    object.geometry = tempGeometry;\n\n                    object.position.set(0, 0, 0);\n                    object.rotation.set(0, 0, 0);\n                    object.scale.set(1, 1, 1);\n\n                    gizmo.add(object);\n\n                }\n\n            }\n\n            return gizmo;\n\n        };\n\n        // Reusable utility variables\n\n        var tempVector = new THREE.Vector3(0, 0, 0);\n        var tempEuler = new THREE.Euler();\n        var alignVector = new THREE.Vector3(0, 1, 0);\n        var zeroVector = new THREE.Vector3(0, 0, 0);\n        var lookAtMatrix = new THREE.Matrix4();\n        var tempQuaternion = new THREE.Quaternion();\n        var tempQuaternion2 = new THREE.Quaternion();\n        var identityQuaternion = new THREE.Quaternion();\n\n        var unitX = new THREE.Vector3(1, 0, 0);\n        var unitY = new THREE.Vector3(0, 1, 0);\n        var unitZ = new THREE.Vector3(0, 0, 1);\n\n        // Gizmo creation\n\n        this.gizmo = {};\n        this.picker = {};\n        this.helper = {};\n\n        this.add(this.gizmo[\"translate\"] = setupGizmo(gizmoTranslate));\n        this.add(this.gizmo[\"rotate\"] = setupGizmo(gizmoRotate));\n        this.add(this.gizmo[\"scale\"] = setupGizmo(gizmoScale));\n        this.add(this.picker[\"translate\"] = setupGizmo(pickerTranslate));\n        this.add(this.picker[\"rotate\"] = setupGizmo(pickerRotate));\n        this.add(this.picker[\"scale\"] = setupGizmo(pickerScale));\n        this.add(this.helper[\"translate\"] = setupGizmo(helperTranslate));\n        this.add(this.helper[\"rotate\"] = setupGizmo(helperRotate));\n        this.add(this.helper[\"scale\"] = setupGizmo(helperScale));\n\n        // Pickers should be hidden always\n\n        this.picker[\"translate\"].visible = false;\n        this.picker[\"rotate\"].visible = false;\n        this.picker[\"scale\"].visible = false;\n\n        // updateMatrixWorld will update transformations and appearance of individual handles\n\n        this.updateMatrixWorld = function () {\n\n            var space = this.space;\n\n            if (this.mode === 'scale') space = 'local'; // scale always oriented to local rotation\n\n            var quaternion = space === \"local\" ? this.worldQuaternion : identityQuaternion;\n\n            // Show only gizmos for current transform mode\n\n            this.gizmo[\"translate\"].visible = this.mode === \"translate\";\n            this.gizmo[\"rotate\"].visible = this.mode === \"rotate\";\n            this.gizmo[\"scale\"].visible = this.mode === \"scale\";\n\n            this.helper[\"translate\"].visible = this.mode === \"translate\";\n            this.helper[\"rotate\"].visible = this.mode === \"rotate\";\n            this.helper[\"scale\"].visible = this.mode === \"scale\";\n\n\n            var handles = [];\n            handles = handles.concat(this.picker[this.mode].children);\n            handles = handles.concat(this.gizmo[this.mode].children);\n            handles = handles.concat(this.helper[this.mode].children);\n\n            for (var i = 0; i < handles.length; i++) {\n\n                var handle = handles[i];\n\n                // hide aligned to camera\n\n                handle.visible = true;\n                handle.rotation.set(0, 0, 0);\n                handle.position.copy(this.worldPosition);\n\n                var eyeDistance = this.worldPosition.distanceTo(this.cameraPosition);\n                handle.scale.set(1, 1, 1).multiplyScalar(eyeDistance * this.size / 7);\n\n                // TODO: simplify helpers and consider decoupling from gizmo\n\n                if (handle.tag === 'helper') {\n\n                    handle.visible = false;\n\n                    if (handle.name === 'AXIS') {\n\n                        handle.position.copy(this.worldPositionStart);\n                        handle.visible = !!this.axis;\n\n                        if (this.axis === 'X') {\n\n                            tempQuaternion.setFromEuler(tempEuler.set(0, 0, 0));\n                            handle.quaternion.copy(quaternion).multiply(tempQuaternion);\n\n                            if (Math.abs(alignVector.copy(unitX).applyQuaternion(quaternion).dot(this.eye)) > 0.9) {\n                                handle.visible = false;\n                            }\n\n                        }\n\n                        if (this.axis === 'Y') {\n\n                            tempQuaternion.setFromEuler(tempEuler.set(0, 0, Math.PI / 2));\n                            handle.quaternion.copy(quaternion).multiply(tempQuaternion);\n\n                            if (Math.abs(alignVector.copy(unitY).applyQuaternion(quaternion).dot(this.eye)) > 0.9) {\n                                handle.visible = false;\n                            }\n\n                        }\n\n                        if (this.axis === 'Z') {\n\n                            tempQuaternion.setFromEuler(tempEuler.set(0, Math.PI / 2, 0));\n                            handle.quaternion.copy(quaternion).multiply(tempQuaternion);\n\n                            if (Math.abs(alignVector.copy(unitZ).applyQuaternion(quaternion).dot(this.eye)) > 0.9) {\n                                handle.visible = false;\n                            }\n\n                        }\n\n                        if (this.axis === 'XYZE') {\n\n                            tempQuaternion.setFromEuler(tempEuler.set(0, Math.PI / 2, 0));\n                            alignVector.copy(this.rotationAxis);\n                            handle.quaternion.setFromRotationMatrix(lookAtMatrix.lookAt(zeroVector, alignVector, unitY));\n                            handle.quaternion.multiply(tempQuaternion);\n                            handle.visible = this.dragging;\n\n                        }\n\n                        if (this.axis === 'E') {\n\n                            handle.visible = false;\n\n                        }\n\n\n                    } else if (handle.name === 'START') {\n\n                        handle.position.copy(this.worldPositionStart);\n                        handle.visible = this.dragging;\n\n                    } else if (handle.name === 'END') {\n\n                        handle.position.copy(this.worldPosition);\n                        handle.visible = this.dragging;\n\n                    } else if (handle.name === 'DELTA') {\n\n                        handle.position.copy(this.worldPositionStart);\n                        handle.quaternion.copy(this.worldQuaternionStart);\n                        tempVector.set(1e-10, 1e-10, 1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1);\n                        tempVector.applyQuaternion(this.worldQuaternionStart.clone().inverse());\n                        handle.scale.copy(tempVector);\n                        handle.visible = this.dragging;\n\n                    } else {\n\n                        handle.quaternion.copy(quaternion);\n\n                        if (this.dragging) {\n\n                            handle.position.copy(this.worldPositionStart);\n\n                        } else {\n\n                            handle.position.copy(this.worldPosition);\n\n                        }\n\n                        if (this.axis) {\n\n                            handle.visible = this.axis.search(handle.name) !== -1;\n\n                        }\n\n                    }\n\n                    // If updating helper, skip rest of the loop\n                    continue;\n\n                }\n\n                // Align handles to current local or world rotation\n\n                handle.quaternion.copy(quaternion);\n\n                if (this.mode === 'translate' || this.mode === 'scale') {\n\n                    // Hide translate and scale axis facing the camera\n\n                    var AXIS_HIDE_TRESHOLD = 0.99;\n                    var PLANE_HIDE_TRESHOLD = 0.2;\n                    var AXIS_FLIP_TRESHOLD = -0.4;\n\n\n                    if (handle.name === 'X' || handle.name === 'XYZX') {\n                        if (Math.abs(alignVector.copy(unitX).applyQuaternion(quaternion).dot(this.eye)) > AXIS_HIDE_TRESHOLD) {\n                            handle.scale.set(1e-10, 1e-10, 1e-10);\n                            handle.visible = false;\n                        }\n                    }\n                    if (handle.name === 'Y' || handle.name === 'XYZY') {\n                        if (Math.abs(alignVector.copy(unitY).applyQuaternion(quaternion).dot(this.eye)) > AXIS_HIDE_TRESHOLD) {\n                            handle.scale.set(1e-10, 1e-10, 1e-10);\n                            handle.visible = false;\n                        }\n                    }\n                    if (handle.name === 'Z' || handle.name === 'XYZZ') {\n                        if (Math.abs(alignVector.copy(unitZ).applyQuaternion(quaternion).dot(this.eye)) > AXIS_HIDE_TRESHOLD) {\n                            handle.scale.set(1e-10, 1e-10, 1e-10);\n                            handle.visible = false;\n                        }\n                    }\n                    if (handle.name === 'XY') {\n                        if (Math.abs(alignVector.copy(unitZ).applyQuaternion(quaternion).dot(this.eye)) < PLANE_HIDE_TRESHOLD) {\n                            handle.scale.set(1e-10, 1e-10, 1e-10);\n                            handle.visible = false;\n                        }\n                    }\n                    if (handle.name === 'YZ') {\n                        if (Math.abs(alignVector.copy(unitX).applyQuaternion(quaternion).dot(this.eye)) < PLANE_HIDE_TRESHOLD) {\n                            handle.scale.set(1e-10, 1e-10, 1e-10);\n                            handle.visible = false;\n                        }\n                    }\n                    if (handle.name === 'XZ') {\n                        if (Math.abs(alignVector.copy(unitY).applyQuaternion(quaternion).dot(this.eye)) < PLANE_HIDE_TRESHOLD) {\n                            handle.scale.set(1e-10, 1e-10, 1e-10);\n                            handle.visible = false;\n                        }\n                    }\n\n                    // Flip translate and scale axis ocluded behind another axis\n\n                    if (handle.name.search('X') !== -1) {\n                        if (alignVector.copy(unitX).applyQuaternion(quaternion).dot(this.eye) < AXIS_FLIP_TRESHOLD) {\n                            if (handle.tag === 'fwd') {\n                                handle.visible = false;\n                            } else {\n                                handle.scale.x *= -1;\n                            }\n                        } else if (handle.tag === 'bwd') {\n                            handle.visible = false;\n                        }\n                    }\n\n                    if (handle.name.search('Y') !== -1) {\n                        if (alignVector.copy(unitY).applyQuaternion(quaternion).dot(this.eye) < AXIS_FLIP_TRESHOLD) {\n                            if (handle.tag === 'fwd') {\n                                handle.visible = false;\n                            } else {\n                                handle.scale.y *= -1;\n                            }\n                        } else if (handle.tag === 'bwd') {\n                            handle.visible = false;\n                        }\n                    }\n\n                    if (handle.name.search('Z') !== -1) {\n                        if (alignVector.copy(unitZ).applyQuaternion(quaternion).dot(this.eye) < AXIS_FLIP_TRESHOLD) {\n                            if (handle.tag === 'fwd') {\n                                handle.visible = false;\n                            } else {\n                                handle.scale.z *= -1;\n                            }\n                        } else if (handle.tag === 'bwd') {\n                            handle.visible = false;\n                        }\n                    }\n\n                } else if (this.mode === 'rotate') {\n\n                    // Align handles to current local or world rotation\n\n                    tempQuaternion2.copy(quaternion);\n                    alignVector.copy(this.eye).applyQuaternion(tempQuaternion.copy(quaternion).inverse());\n\n                    if (handle.name.search(\"E\") !== - 1) {\n\n                        handle.quaternion.setFromRotationMatrix(lookAtMatrix.lookAt(this.eye, zeroVector, unitY));\n\n                    }\n\n                    if (handle.name === 'X') {\n\n                        tempQuaternion.setFromAxisAngle(unitX, Math.atan2(-alignVector.y, alignVector.z));\n                        tempQuaternion.multiplyQuaternions(tempQuaternion2, tempQuaternion);\n                        handle.quaternion.copy(tempQuaternion);\n\n                    }\n\n                    if (handle.name === 'Y') {\n\n                        tempQuaternion.setFromAxisAngle(unitY, Math.atan2(alignVector.x, alignVector.z));\n                        tempQuaternion.multiplyQuaternions(tempQuaternion2, tempQuaternion);\n                        handle.quaternion.copy(tempQuaternion);\n\n                    }\n\n                    if (handle.name === 'Z') {\n\n                        tempQuaternion.setFromAxisAngle(unitZ, Math.atan2(alignVector.y, alignVector.x));\n                        tempQuaternion.multiplyQuaternions(tempQuaternion2, tempQuaternion);\n                        handle.quaternion.copy(tempQuaternion);\n\n                    }\n\n                }\n\n                // Hide disabled axes\n                handle.visible = handle.visible && (handle.name.indexOf(\"X\") === -1 || this.showX);\n                handle.visible = handle.visible && (handle.name.indexOf(\"Y\") === -1 || this.showY);\n                handle.visible = handle.visible && (handle.name.indexOf(\"Z\") === -1 || this.showZ);\n                handle.visible = handle.visible && (handle.name.indexOf(\"E\") === -1 || (this.showX && this.showY && this.showZ));\n\n                // highlight selected axis\n\n                handle.material._opacity = handle.material._opacity || handle.material.opacity;\n                handle.material._color = handle.material._color || handle.material.color.clone();\n\n                handle.material.color.copy(handle.material._color);\n                handle.material.opacity = handle.material._opacity;\n\n                if (!this.enabled) {\n\n                    handle.material.opacity *= 0.5;\n                    handle.material.color.lerp(new THREE.Color(1, 1, 1), 0.5);\n\n                } else if (this.axis) {\n\n                    if (handle.name === this.axis) {\n\n                        handle.material.opacity = 1.0;\n                        handle.material.color.lerp(new THREE.Color(1, 1, 1), 0.5);\n\n                    } else if (this.axis.split('').some(function (a) { return handle.name === a; })) {\n\n                        handle.material.opacity = 1.0;\n                        handle.material.color.lerp(new THREE.Color(1, 1, 1), 0.5);\n\n                    } else {\n\n                        handle.material.opacity *= 0.25;\n                        handle.material.color.lerp(new THREE.Color(1, 1, 1), 0.5);\n\n                    }\n\n                }\n\n            }\n\n            THREE.Object3D.prototype.updateMatrixWorld.call(this);\n\n        };\n\n    };\n\n    TransformControlsGizmo.prototype = Object.assign(Object.create(THREE.Object3D.prototype), {\n\n        constructor: TransformControlsGizmo,\n\n        isTransformControlsGizmo: true\n\n    });\n\n\n    var TransformControlsPlane = function () {\n\n        'use strict';\n\n        THREE.Mesh.call(this,\n            new THREE.PlaneBufferGeometry(100000, 100000, 2, 2),\n            new THREE.MeshBasicMaterial({ visible: false, wireframe: true, side: THREE.DoubleSide, transparent: true, opacity: 0.1 })\n        );\n\n        this.type = 'TransformControlsPlane';\n\n        var unitX = new THREE.Vector3(1, 0, 0);\n        var unitY = new THREE.Vector3(0, 1, 0);\n        var unitZ = new THREE.Vector3(0, 0, 1);\n\n        var tempVector = new THREE.Vector3();\n        var dirVector = new THREE.Vector3();\n        var alignVector = new THREE.Vector3();\n        var tempMatrix = new THREE.Matrix4();\n        var identityQuaternion = new THREE.Quaternion();\n\n        this.updateMatrixWorld = function () {\n\n            var space = this.space;\n\n            this.position.copy(this.worldPosition);\n\n            if (this.mode === 'scale') space = 'local'; // scale always oriented to local rotation\n\n            unitX.set(1, 0, 0).applyQuaternion(space === \"local\" ? this.worldQuaternion : identityQuaternion);\n            unitY.set(0, 1, 0).applyQuaternion(space === \"local\" ? this.worldQuaternion : identityQuaternion);\n            unitZ.set(0, 0, 1).applyQuaternion(space === \"local\" ? this.worldQuaternion : identityQuaternion);\n\n            // Align the plane for current transform mode, axis and space.\n\n            alignVector.copy(unitY);\n\n            switch (this.mode) {\n                case 'translate':\n                case 'scale':\n                    switch (this.axis) {\n                        case 'X':\n                            alignVector.copy(this.eye).cross(unitX);\n                            dirVector.copy(unitX).cross(alignVector);\n                            break;\n                        case 'Y':\n                            alignVector.copy(this.eye).cross(unitY);\n                            dirVector.copy(unitY).cross(alignVector);\n                            break;\n                        case 'Z':\n                            alignVector.copy(this.eye).cross(unitZ);\n                            dirVector.copy(unitZ).cross(alignVector);\n                            break;\n                        case 'XY':\n                            dirVector.copy(unitZ);\n                            break;\n                        case 'YZ':\n                            dirVector.copy(unitX);\n                            break;\n                        case 'XZ':\n                            alignVector.copy(unitZ);\n                            dirVector.copy(unitY);\n                            break;\n                        case 'XYZ':\n                        case 'E':\n                            dirVector.set(0, 0, 0);\n                            break;\n                    }\n                    break;\n                case 'rotate':\n                default:\n                    // special case for rotate\n                    dirVector.set(0, 0, 0);\n            }\n\n            if (dirVector.length() === 0) {\n\n                // If in rotate mode, make the plane parallel to camera\n                this.quaternion.copy(this.cameraQuaternion);\n\n            } else {\n\n                tempMatrix.lookAt(tempVector.set(0, 0, 0), dirVector, alignVector);\n\n                this.quaternion.setFromRotationMatrix(tempMatrix);\n\n            }\n\n            THREE.Object3D.prototype.updateMatrixWorld.call(this);\n\n        };\n\n    };\n\n    TransformControlsPlane.prototype = Object.assign(Object.create(THREE.Mesh.prototype), {\n\n        constructor: TransformControlsPlane,\n\n        isTransformControlsPlane: true\n\n    });\n\n    return TransformControls;\n}\n","import * as THREE from 'three';\nimport Stats from \"stats-js\";\n\nimport Sky from \"./sky\";\nimport Grid from \"./grid\";\nimport ViewerHelper from \"./viewerHelper\";\n\nimport store, { toggleMenu, updateScene, updateSelectedObject } from \"../store\";\n\nvar OrbitControls = require('./utils/OrbitControls.js')(THREE);\nvar OBJLoader = require('three-obj-loader');\nOBJLoader(THREE);\n\nvar TransformControls = require(\"./utils/TransformControls\")(THREE);\n\nclass Viewer {\n    constructor(antialias = true) {\n\n        this.scene = new THREE.Scene();\n        this.camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 10000);\n\n        this.camera.position.set(0, 10, -30)\n        this.camera.lookAt(new THREE.Vector3());\n\n        this.canvas = document.getElementById(\"3d-env\");\n        this.renderer = new THREE.WebGLRenderer({\n            canvas: this.canvas,\n            antialias: antialias,\n            alpha: false,\n            //performance improvements\n            preserveDrawingBuffer: true,\n            failIfMajorPerformanceCaveat: true\n        });\n\n        this.renderer.sortObjects = false;\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n        this.renderer.setClearColor(0x000000, 0.0);\n        this.renderer.setPixelRatio(window.devicePixelRatio);\n\n        this.interactiveObjects = new THREE.Group();\n        this.scene.add(this.interactiveObjects);\n        /* \n            var geometry = new THREE.BoxGeometry(10, 10, 10);\n            var material = new THREE.MeshBasicMaterial({ color: 0x000000 });\n            var cube = new THREE.Mesh(geometry, material);\n            cube.name = \"cube1\";\n            interactiveObjects.add(cube);\n    \n            var geometry = new THREE.BoxGeometry(5, 5, 5);\n            var material = new THREE.MeshBasicMaterial({ color: 0x00ffFF });\n            var cube = new THREE.Mesh(geometry, material);\n            cube.position.y = 7.5;\n            cube.name = \"cube2\";\n            interactiveObjects.add(cube);\n    \n            var geometry = new THREE.BoxGeometry(5, 5, 5);\n            var material = new THREE.MeshBasicMaterial({ color: 0x00ffFF });\n            var cube = new THREE.Mesh(geometry, material);\n            cube.position.y = 15;\n            cube.name = \"cube3\";\n            interactiveObjects.add(cube);\n        */\n        //scene.add(cube);\n        var tControl = new TransformControls(this.camera, this.renderer.domElement);\n        this.controls = new OrbitControls(this.camera, this.canvas);\n        let sky = new Sky();\n        this.scene.add(sky.getObject(THREE));\n\n        //cubeview\n        let viewerHelper = new ViewerHelper(\"viewer-helper\", this.controls);\n\n        this.controls.setPolarAngle(Math.PI * 0.25);\n        this.controls.setAzimuthalAngle(Math.PI * 0.25);\n        this.controls.update();\n\n        var gridHelper = new Grid();//new THREE.GridHelper(100, 100, 0xaaaaaa, 0x666666);\n        this.scene.add(gridHelper);\n\n        //raycast\n        this.raycaster = new THREE.Raycaster();\n        this.mouse = new THREE.Vector2();\n        this.INTERSECTED;\n        this.INTERSECTED_box;\n        this.INTERSECTED_selected;\n\n\n        window.addEventListener('mousemove', this.onMouseMove, false);\n        window.addEventListener('mousedown', this.onMouseDown, false);\n\n        var geometry = new THREE.BoxGeometry(1, 1, 1);\n        var material = new THREE.MeshBasicMaterial({ color: 0x00ff00 });\n        this.cube = new THREE.Mesh(geometry, material);\n\n\n        //tControl.addEventListener('change', this.animate);\n\n        tControl.addEventListener('mouseDown', (event) => {\n            this.controls.enabled = false;\n            viewerHelper.enabled = false;\n        });\n\n        tControl.addEventListener('mouseUp', (event) => {\n            this.controls.enabled = true;\n            viewerHelper.enabled = true;\n        });\n\n        tControl.attach(this.cube);\n\n        this.scene.add(tControl);\n        this.scene.add(this.cube);\n\n    }\n\n    onMouseMove = (event) => {\n        this.mouse.x = (event.clientX / this.renderer.domElement.clientWidth) * 2 - 1;\n        this.mouse.y = - (event.clientY / this.renderer.domElement.clientHeight) * 2 + 1;\n    }\n\n    onMouseDown = (event) => {\n        if (this.INTERSECTED && event.button == 2) {\n            console.log(event);\n            console.log(this.INTERSECTED.name);\n        }\n        if (this.INTERSECTED && event.button == 0) {\n            this.updateSelectedObject(this.INTERSECTED);\n            console.log(store.getState().environment);\n            console.log(this.INTERSECTED.name);\n\n            this.INTERSECTED_selected = this.INTERSECTED;\n\n            if (this.INTERSECTED_box)\n                this.scene.remove(this.INTERSECTED_box)\n            this.INTERSECTED_box = new THREE.BoxHelper(this.INTERSECTED, 0x55ddff);\n\n            this.scene.add(this.INTERSECTED_box);\n        }\n    }\n\n    animate = () => {\n        requestAnimationFrame(this.animate);\n        // update the picking ray with the camera and mouse position\n        this.raycaster.setFromCamera(this.mouse, this.camera);\n\n        // calculate objects intersecting the picking ray\n        var intersects = this.raycaster.intersectObjects(this.interactiveObjects.children);\n\n        // if there is one (or more) intersections\n        if (intersects.length) {\n            if (intersects[0].object != this.INTERSECTED) {\n                this.INTERSECTED = intersects[0].object;\n                if (this.INTERSECTED) {\n                    //INTERSECTED.currentHex = INTERSECTED.material.color.getHex();\n                    //INTERSECTED.material.color.setHex(0xffff00);\n\n                }\n                else\n                    this.INTERSECTED = null;\n            }\n        }\n        else {\n            if (this.INTERSECTED)\n                this.INTERSECTED = null;\n        }\n\n        if (this.INTERSECTED_box) {\n            this.INTERSECTED_box.update();\n        }\n\n        if (this.controls.enabled)\n            this.controls.update();\n\n        //stats.begin();\n        this.cube.rotation.x = window.pos3d.x * 5;\n        this.cube.rotation.y = window.pos3d.y * 5;\n        // your code goes here\n        this.renderer.render(this.scene, this.camera);\n        //stats.end();\n    }\n\n    getObjectByName(name) {\n\n    }\n}\n\nwindow.onload = function () {\n    var viewer = new Viewer();\n    viewer.animate();\n    window.viewer = viewer;\n};\n\n\n//load obj\n// instantiate a loader\n//var loader = new THREE.OBJLoader();\n/*\n// load a resource\nloader.load(\n    // resource URL\n    'models/monster.obj',\n    // called when resource is loaded\n    function (object) {\n\n        scene.add(object);\n\n    },\n    // called when loading is in progresses\n    function (xhr) {\n\n        console.log((xhr.loaded / xhr.total * 100) + '% loaded');\n\n    },\n    // called when loading has errors\n    function (error) {\n\n        console.log('An error happened');\n\n    }\n);\n*/\n\n","import React, { Component } from \"react\";\nimport ReactDOM from 'react-dom';\nimport { AppContainer } from 'react-hot-loader';\nimport { Provider } from \"react-redux\";\n\nimport App from \"./App.js\";\nimport \"./index.css\";\n\n//export let actions = new Actions(store);\nimport store from \"./store\";\n\nwindow.store = store;\n\nwindow.pos3d = { x: 0, y: 0 };\n\nconst render = () => {\n    ReactDOM.render(\n        <AppContainer>\n            <Provider store={store}>\n                <App />\n            </Provider>\n        </AppContainer>,\n        window.document.getElementById('app'));\n}\nif (typeof window !== 'undefined') { render(); }\n\nif (module.hot) {\n    module.hot.accept(render);\n}\n\nwindow.focus();\n\n//execute the viewer\nimport './viewer/viewer.js';\n//let viewer = new Viewer(store);\n\n//Menu\nconst { remote } = require('electron');\nconst { Menu, MenuItem } = remote;\n/*\nconst menu = new Menu()\nmenu.append(new MenuItem({ label: 'MenuItem1', click() { console.log('item 1 clicked') } }))\nmenu.append(new MenuItem({ type: 'separator' }))\nmenu.append(new MenuItem({ label: 'MenuItem2', type: 'checkbox', checked: true }))\n\nwindow.addEventListener('contextmenu', (e) => {\n    e.preventDefault()\n    menu.popup({ window: remote.getCurrentWindow() })\n}, false);\n*/\n\n\n"]}