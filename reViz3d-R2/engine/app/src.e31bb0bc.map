{"version":3,"sources":["store/index.js","App.js","viewer/sky.js","viewer/viewer.js","index.js","../node_modules/parcel-bundler/src/builtins/bundle-url.js","../node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["defaultState","menuIsOpen","project","name","path","environment","selectedObject","scene","rootStore","state","action","type","Object","assign","object","store","toggleMenu","dispatch","updateScene","updateSelectedObject","App","console","log","props","Component","mapStateToProps","menu","mapDispatchToProps","open","Sky","vertexShader","fragmentShader","uniforms","topColor","value","THREE","Color","bottomColor","offset","exponent","skyGeo","SphereBufferGeometry","skyMat","ShaderMaterial","side","BackSide","sky","Mesh","OrbitControls","require","OBJLoader","Scene","camera","PerspectiveCamera","window","innerWidth","innerHeight","position","set","lookAt","Vector3","canvas","document","getElementById","renderer","WebGLRenderer","antialias","setSize","setClearColor","setPixelRatio","devicePixelRatio","interactiveObjects","Group","add","geometry","BoxGeometry","material","MeshBasicMaterial","color","cube","y","controls","getObject","gridHelper","GridHelper","raycaster","Raycaster","mouse","Vector2","INTERSECTED","INTERSECTED_box","INTERSECTED_selected","onMouseMove","event","x","clientX","domElement","clientWidth","clientY","clientHeight","onMouseDown","button","getState","remove","BoxHelper","addEventListener","animate","requestAnimationFrame","setFromCamera","intersects","intersectObjects","children","length","update","render","loader","load","xhr","loaded","total","error","ReactDOM","module","hot","accept","focus","remote","Menu","MenuItem","append","label","click","checked","e","preventDefault","popup","getCurrentWindow"],"mappings":"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","file":"src.e31bb0bc.map","sourceRoot":"../../src","sourcesContent":["/* ------------\n\n--------------- */\n\nlet defaultState = {\n    menuIsOpen: true,\n    project: {\n        name: null,\n        path: null\n    },\n    environment: {\n        selectedObject: null,\n        scene: null\n    }\n}\n\nlet rootStore = (state = defaultState, action) => {\n    switch (action.type) {\n        case 'TOGGLE_MENU':\n            let menuIsOpen = !state.menuIsOpen;\n            return Object.assign({}, state, { menuIsOpen });\n\n        case 'UPDATE_SCENE':\n            var environment = Object.assign({}, state.environment, { scene: action.scene });\n            return Object.assign({}, state, { environment });\n\n        case 'UPDATE_SELECTED_OBJECT':\n            var environment = Object.assign({}, state.environment, { selectedObject: action.object });\n            return Object.assign({}, state, { environment });\n        default:\n            return state\n    }\n}\n\nimport { createStore } from \"redux\";\nlet store = createStore(rootStore);\n\n\n/*actions*/\nexport let toggleMenu = () => {\n    store.dispatch({ type: 'TOGGLE_MENU' });\n}\n\nexport let updateScene = (scene) => {\n    store.dispatch({ type: 'UPDATE_SCENE', scene });\n}\n\nexport let updateSelectedObject = (object) => {\n    store.dispatch({ type: 'UPDATE_SELECTED_OBJECT', object });\n}\n//export the store at the end\nexport default store;","import React, { Component } from \"react\";\nimport ReactDOM from 'react-dom';\nimport { AppContainer } from 'react-hot-loader';\nimport logo from \"./icons/logo.svg\";\nimport github from \"./icons/github.svg\";\nimport { shell } from 'electron';\n\nimport \"./app.css\";\nimport { connect } from 'react-redux';\nimport { toggleMenu } from \"./store\";\n\n//import Menu from \"./components/Menu\";\n\nclass App extends Component {\n    /*\n    onClick = () => {\n        toggleMenu();\n    }*/\n\n    render() {\n        console.log('props', this.props);\n        return (\n            <div >\n                \n            </div >\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return { menu: state.menuIsOpen }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        toggleMenu: () => {\n            dispatch({ type: 'TOGGLE_MENU', open: null });\n        }\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(App)\n\n","import * as THREE from 'three';\n\nexport default class Sky {\n\n    getObject() {\n    \n        // SKYDOME\n        var vertexShader = `\n        varying vec3 vWorldPosition;\n\t\t\tvoid main() {\n\t\t\t\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n\t\t\t\tvWorldPosition = worldPosition.xyz;\n\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n            }\n            `;\n        var fragmentShader = `\n        uniform vec3 topColor;\n\t\t\tuniform vec3 bottomColor;\n\t\t\tuniform float offset;\n\t\t\tuniform float exponent;\n\t\t\tvarying vec3 vWorldPosition;\n\t\t\tvoid main() {\n\t\t\t\tfloat h = normalize( vWorldPosition + offset ).y;\n\t\t\t\tgl_FragColor = vec4( mix( bottomColor, topColor, max( pow( max( h, 0.0 ), exponent ), 0.0 ) ), 1.0 );\n            }\n            `;\n        var uniforms = {\n            topColor: { type: \"c\", value: new THREE.Color(0x606060) },\n            bottomColor: { type: \"c\", value: new THREE.Color(0x212121) },\n            offset: { type: \"f\", value: 400 },\n            exponent: { type: \"f\", value: 1.0 }\n        };\n\n        var skyGeo = new THREE.SphereBufferGeometry(1000, 32, 15);\n\n        var skyMat = new THREE.ShaderMaterial({\n            uniforms: uniforms,\n            vertexShader: vertexShader,\n            fragmentShader: fragmentShader,\n            side: THREE.BackSide\n        });\n\n        var sky = new THREE.Mesh(skyGeo, skyMat);\n        return sky;\n    }\n}","import * as THREE from 'three';\n\nimport Sky from \"./sky\";\nimport store, { toggleMenu, updateScene, updateSelectedObject } from \"../store\";\n\nvar OrbitControls = require('three-orbit-controls')(THREE)\n\nvar OBJLoader = require('three-obj-loader');\nOBJLoader(THREE);\n\nvar scene = new THREE.Scene();\nvar camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 10000);\ncamera.position.set(0, 10, -30)\ncamera.lookAt(new THREE.Vector3());\nvar canvas = document.getElementById(\"3d-env\");\nvar renderer = new THREE.WebGLRenderer({ canvas: canvas, antialias: true });\nrenderer.setSize(window.innerWidth, window.innerHeight);\nrenderer.setClearColor(0x000000, 0.0);\nrenderer.setPixelRatio( window.devicePixelRatio );\n\n/* --- for ambiente occlusions\ncomposer = new THREE.EffectComposer( renderer );\n\t\t\t\trenderPass = new THREE.RenderPass( scene, camera );\n\t\t\t\tcomposer.addPass( renderPass );\n\t\t\t\tsaoPass = new THREE.SAOPass( scene, camera, false, true );\n\t\t\t\tsaoPass.renderToScreen = true;\n\t\t\t\tcomposer.addPass( saoPass );\n*/\n\nvar interactiveObjects = new THREE.Group();\nscene.add(interactiveObjects);\n\nvar geometry = new THREE.BoxGeometry(10, 10, 10);\nvar material = new THREE.MeshBasicMaterial({ color: 0x000000 });\nvar cube = new THREE.Mesh(geometry, material);\ncube.name = \"cube1\";\ninteractiveObjects.add(cube);\n\nvar geometry = new THREE.BoxGeometry(5, 5, 5);\nvar material = new THREE.MeshBasicMaterial({ color: 0x00ffFF });\nvar cube = new THREE.Mesh(geometry, material);\ncube.position.y = 7.5;\ncube.name = \"cube2\";\ninteractiveObjects.add(cube);\n\nvar geometry = new THREE.BoxGeometry(5, 5, 5);\nvar material = new THREE.MeshBasicMaterial({ color: 0x00ffFF });\nvar cube = new THREE.Mesh(geometry, material);\ncube.position.y = 15;\ncube.name = \"cube3\";\ninteractiveObjects.add(cube);\n\n//scene.add(cube);\n\nvar controls = new OrbitControls(camera);\nlet sky = new Sky();\n\nscene.add(sky.getObject(THREE));\n\nvar gridHelper = new THREE.GridHelper(100, 100, 0xaaaaaa, 0x666666);\nscene.add(gridHelper);\n\n//raycast\nvar raycaster = new THREE.Raycaster();\nvar mouse = new THREE.Vector2();\nvar INTERSECTED;\nvar INTERSECTED_box;\nvar INTERSECTED_selected;\n\nfunction onMouseMove(event) {\n    mouse.x = (event.clientX / renderer.domElement.clientWidth) * 2 - 1;\n    mouse.y = - (event.clientY / renderer.domElement.clientHeight) * 2 + 1;\n}\n\nfunction onMouseDown(event) {\n    if (INTERSECTED && event.button == 2) {\n        console.log(event);\n        console.log(INTERSECTED.name);\n    }\n    if (INTERSECTED && event.button == 0) {\n        updateSelectedObject(INTERSECTED);\n        console.log(store.getState().environment);\n        console.log(INTERSECTED.name);\n\n        INTERSECTED_selected = INTERSECTED;\n\n        if (INTERSECTED_box)\n            scene.remove(INTERSECTED_box)\n        INTERSECTED_box = new THREE.BoxHelper(INTERSECTED, 0x55ddff);\n\n        scene.add(INTERSECTED_box);\n    }\n}\n\nwindow.addEventListener('mousemove', onMouseMove, false);\nwindow.addEventListener('mousedown', onMouseDown, false);\n\nfunction animate() {\n    requestAnimationFrame(animate);\n    // update the picking ray with the camera and mouse position\n    raycaster.setFromCamera(mouse, camera);\n\n    // calculate objects intersecting the picking ray\n    var intersects = raycaster.intersectObjects(interactiveObjects.children);\n\n    // if there is one (or more) intersections\n    if (intersects.length) {\n        if (intersects[0].object != INTERSECTED) {\n            INTERSECTED = intersects[0].object;\n            if (INTERSECTED) {\n                //INTERSECTED.currentHex = INTERSECTED.material.color.getHex();\n                //INTERSECTED.material.color.setHex(0xffff00);\n            }\n            else\n                INTERSECTED = null;\n        }\n    }\n    else {\n        if (INTERSECTED)\n            INTERSECTED = null;\n    }\n\n    if (INTERSECTED_box) {\n        INTERSECTED_box.update();\n    }\n\n    renderer.render(scene, camera);\n}\n\n//load obj\n// instantiate a loader\nvar loader = new THREE.OBJLoader();\n\n// load a resource\nloader.load(\n    // resource URL\n    'models/monster.obj',\n    // called when resource is loaded\n    function (object) {\n\n        scene.add(object);\n\n    },\n    // called when loading is in progresses\n    function (xhr) {\n\n        console.log((xhr.loaded / xhr.total * 100) + '% loaded');\n\n    },\n    // called when loading has errors\n    function (error) {\n\n        console.log('An error happened');\n\n    }\n);\n\nanimate();\n","import React, { Component } from \"react\";\nimport ReactDOM from 'react-dom';\nimport { AppContainer } from 'react-hot-loader';\nimport { Provider } from \"react-redux\";\n\nimport App from \"./App.js\";\nimport \"./index.css\";\n\n\n//export let actions = new Actions(store);\nimport store from \"./store\";\n\nconst render = () => {\n    ReactDOM.render(\n        <AppContainer>\n            <Provider store={store}>\n                <App />\n            </Provider>\n        </AppContainer>,\n        window.document.getElementById('app'));\n}\nif (typeof window !== 'undefined') { render(); }\n\nif (module.hot) {\n    module.hot.accept(render);\n}\n\nwindow.focus();\n\n//execute the viewer\nimport './viewer/viewer.js';\n//let viewer = new Viewer(store);\n\n//Menu\nconst { remote } = require('electron');\nconst { Menu, MenuItem } = remote;\n\nconst menu = new Menu()\nmenu.append(new MenuItem({ label: 'MenuItem1', click() { console.log('item 1 clicked') } }))\nmenu.append(new MenuItem({ type: 'separator' }))\nmenu.append(new MenuItem({ label: 'MenuItem2', type: 'checkbox', checked: true }))\n\nwindow.addEventListener('contextmenu', (e) => {\n    e.preventDefault()\n    menu.popup({ window: remote.getCurrentWindow() })\n}, false);\n\n\n\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}